/*!
 * Jade
 * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

/*
 * Copyright 2009-2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE.txt or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */

/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 *
 * Based on the Base 64 VLQ implementation in Closure Compiler:
 * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java
 *
 * Copyright 2011 The Closure Compiler Authors. All rights reserved.
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above
 *    copyright notice, this list of conditions and the following
 *    disclaimer in the documentation and/or other materials provided
 *    with the distribution.
 *  * Neither the name of Google Inc. nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/** vim: et:ts=4:sw=4:sts=4
 * @license amdefine 0.1.0 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/amdefine for details
 */

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

/***********************************************************************

  A JavaScript tokenizer / parser / beautifier / compressor.
  https://github.com/mishoo/UglifyJS2

  -------------------------------- (C) ---------------------------------

                           Author: Mihai Bazon
                         <mihai.bazon@gmail.com>
                       http://mihai.bazon.net/blog

  Distributed under the BSD license:

    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>
    Parser based on parse-js (http://marijn.haverbeke.nl/parse-js/).

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions
    are met:

        * Redistributions of source code must retain the above
          copyright notice, this list of conditions and the following
          disclaimer.

        * Redistributions in binary form must reproduce the above
          copyright notice, this list of conditions and the following
          disclaimer in the documentation and/or other materials
          provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY
    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE
    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
    SUCH DAMAGE.

 ***********************************************************************/

/**
 * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define("jade/jade",e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.jade=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(t){var n=e[o][1][t];return i(n?n:t)},f,f.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){function c(e){return l(e,{jade:o,jade_interp:undefined})}function h(e){return l.toConstant(e,{jade:o,jade_interp:undefined})}function p(e,t){return t.line=e.line,t.filename=e.filename,t}var r=e("./nodes"),i=e("./filters"),s=e("./doctypes"),o=e("./runtime"),u=e("./utils"),a=e("void-elements"),f=e("character-parser").parseMax,l=e("constantinople"),d=t.exports=function(t,n){this.options=n=n||{},this.node=t,this.hasCompiledDoctype=!1,this.hasCompiledTag=!1,this.pp=n.pretty||!1,this.debug=!1!==n.compileDebug,this.indents=0,this.parentIndents=0,this.terse=!1,this.mixins={},this.dynamicMixins=!1,n.doctype&&this.setDoctype(n.doctype)};d.prototype={compile:function(){this.buf=[],this.pp&&this.buf.push("var jade_indent = [];"),this.lastBufferedIdx=-1,this.visit(this.node);if(!this.dynamicMixins){var e=Object.keys(this.mixins);for(var t=0;t<e.length;t++){var n=this.mixins[e[t]];if(!n.used)for(var r=0;r<n.instances.length;r++)for(var i=n.instances[r].start;i<n.instances[r].end;i++)this.buf[i]=""}}return this.buf.join("\n")},setDoctype:function(e){this.doctype=s[e.toLowerCase()]||"<!DOCTYPE "+e+">",this.terse=this.doctype.toLowerCase()=="<!doctype html>",this.xml=0==this.doctype.indexOf("<?xml")},buffer:function(e,t){var n=this;if(t){var r=/(\\)?([#!]){((?:.|\n)*)$/.exec(e);if(r){this.buffer(e.substr(0,r.index),!1);if(r[1]){this.buffer(r[2]+"{",!1),this.buffer(r[3],!0);return}var i=r[3],s=f(i),o=("!"==r[2]?"":"jade.escape")+"((jade_interp = "+s.src+") == null ? '' : jade_interp)";this.bufferExpression(o),this.buffer(i.substr(s.end+1),!0);return}}e=u.stringify(e),e=e.substr(1,e.length-2),this.lastBufferedIdx==this.buf.length?(this.lastBufferedType==="code"&&(this.lastBuffered+=' + "'),this.lastBufferedType="text",this.lastBuffered+=e,this.buf[this.lastBufferedIdx-1]="buf.push("+this.bufferStartChar+this.lastBuffered+'");'):(this.buf.push('buf.push("'+e+'");'),this.lastBufferedType="text",this.bufferStartChar='"',this.lastBuffered=e,this.lastBufferedIdx=this.buf.length)},bufferExpression:function(e){if(c(e))return this.buffer(h(e)+"",!1);this.lastBufferedIdx==this.buf.length?(this.lastBufferedType==="text"&&(this.lastBuffered+='"'),this.lastBufferedType="code",this.lastBuffered+=" + ("+e+")",this.buf[this.lastBufferedIdx-1]="buf.push("+this.bufferStartChar+this.lastBuffered+");"):(this.buf.push("buf.push("+e+");"),this.lastBufferedType="code",this.bufferStartChar="",this.lastBuffered="("+e+")",this.lastBufferedIdx=this.buf.length)},prettyIndent:function(e,t){e=e||0,t=t?"\n":"",this.buffer(t+Array(this.indents+e).join("  ")),this.parentIndents&&this.buf.push("buf.push.apply(buf, jade_indent);")},visit:function(e){var t=this.debug;t&&this.buf.push("jade_debug.unshift({ lineno: "+e.line+", filename: "+(e.filename?u.stringify(e.filename):"jade_debug[0].filename")+" });"),!1===e.debug&&this.debug&&(this.buf.pop(),this.buf.pop()),this.visitNode(e),t&&this.buf.push("jade_debug.shift();")},visitNode:function(e){return this["visit"+e.type](e)},visitCase:function(e){var t=this.withinCase;this.withinCase=!0,this.buf.push("switch ("+e.expr+"){"),this.visit(e.block),this.buf.push("}"),this.withinCase=t},visitWhen:function(e){"default"==e.expr?this.buf.push("default:"):this.buf.push("case "+e.expr+":"),e.block&&(this.visit(e.block),this.buf.push("  break;"))},visitLiteral:function(e){this.buffer(e.str)},visitBlock:function(e){var t=e.nodes.length,n=this.escape,r=this.pp;r&&t>1&&!n&&e.nodes[0].isText&&e.nodes[1].isText&&this.prettyIndent(1,!0);for(var i=0;i<t;++i)r&&i>0&&!n&&e.nodes[i].isText&&e.nodes[i-1].isText&&this.prettyIndent(1,!1),this.visit(e.nodes[i]),e.nodes[i+1]&&e.nodes[i].isText&&e.nodes[i+1].isText&&this.buffer("\n")},visitMixinBlock:function(e){this.pp&&this.buf.push("jade_indent.push('"+Array(this.indents+1).join("  ")+"');"),this.buf.push("block && block();"),this.pp&&this.buf.push("jade_indent.pop();")},visitDoctype:function(e){e&&(e.val||!this.doctype)&&this.setDoctype(e.val||"default"),this.doctype&&this.buffer(this.doctype),this.hasCompiledDoctype=!0},visitMixin:function(e){var t="jade_mixins[",n=e.args||"",r=e.block,i=e.attrs,s=e.attributeBlocks,o=this.pp,u=e.name[0]==="#",a=e.name;u&&(this.dynamicMixins=!0),t+=(u?e.name.substr(2,e.name.length-3):'"'+e.name+'"')+"]",this.mixins[a]=this.mixins[a]||{used:!1,instances:[]};if(e.call){this.mixins[a].used=!0,o&&this.buf.push("jade_indent.push('"+Array(this.indents+1).join("  ")+"');");if(r||i.length||s.length){this.buf.push(t+".call({");if(r){this.buf.push("block: function(){"),this.parentIndents++;var f=this.indents;this.indents=0,this.visit(e.block),this.indents=f,this.parentIndents--,i.length||s.length?this.buf.push("},"):this.buf.push("}")}if(s.length){if(i.length){var l=this.attrs(i);s.unshift(l)}this.buf.push("attributes: jade.merge(["+s.join(",")+"])")}else if(i.length){var l=this.attrs(i);this.buf.push("attributes: "+l)}n?this.buf.push("}, "+n+");"):this.buf.push("});")}else this.buf.push(t+"("+n+");");o&&this.buf.push("jade_indent.pop();")}else{var c=this.buf.length;n=n?n.split(","):[];var h;n.length&&/^\.\.\./.test(n[n.length-1].trim())&&(h=n.pop().trim().replace(/^\.\.\./,"")),this.buf.push(t+" = function("+n.join(",")+"){"),this.buf.push("var block = (this && this.block), attributes = (this && this.attributes) || {};"),h&&(this.buf.push("var "+h+" = [];"),this.buf.push("for (jade_interp = "+n.length+"; jade_interp < arguments.length; jade_interp++) {"),this.buf.push("  "+h+".push(arguments[jade_interp]);"),this.buf.push("}")),this.parentIndents++,this.visit(r),this.parentIndents--,this.buf.push("};");var p=this.buf.length;this.mixins[a].instances.push({start:c,end:p})}},visitTag:function(e){function i(){e.buffer?r.bufferExpression(t):r.buffer(t)}this.indents++;var t=e.name,n=this.pp,r=this;"pre"==e.name&&(this.escape=!0),this.hasCompiledTag||(!this.hasCompiledDoctype&&"html"==t&&this.visitDoctype(),this.hasCompiledTag=!0),n&&!e.isInline()&&this.prettyIndent(0,!0);if(e.selfClosing||!this.xml&&a.indexOf(e.name)!==-1){this.buffer("<"),i(),this.visitAttributes(e.attrs,e.attributeBlocks),this.terse?this.buffer(">"):this.buffer("/>");if(e.block&&(e.block.type!=="Block"||e.block.nodes.length!==0)&&e.block.nodes.some(function(e){return e.type!=="Text"||!/^\s*$/.test(e.val)}))throw p(e,new Error(t+" is self closing and should not have content."))}else this.buffer("<"),i(),this.visitAttributes(e.attrs,e.attributeBlocks),this.buffer(">"),e.code&&this.visitCode(e.code),this.visit(e.block),n&&!e.isInline()&&"pre"!=e.name&&!e.canInline()&&this.prettyIndent(0,!0),this.buffer("</"),i(),this.buffer(">");"pre"==e.name&&(this.escape=!1),this.indents--},visitFilter:function(e){var t=e.block.nodes.map(function(e){return e.val}).join("\n");e.attrs.filename=this.options.filename;try{this.buffer(i(e.name,t,e.attrs),!0)}catch(n){throw p(e,n)}},visitText:function(e){this.buffer(e.val,!0)},visitComment:function(e){if(!e.buffer)return;this.pp&&this.prettyIndent(1,!0),this.buffer("<!--"+e.val+"-->")},visitBlockComment:function(e){if(!e.buffer)return;this.pp&&this.prettyIndent(1,!0),this.buffer("<!--"+e.val),this.visit(e.block),this.pp&&this.prettyIndent(1,!0),this.buffer("-->")},visitCode:function(e){if(e.buffer){var t=e.val.trimLeft();t="null == (jade_interp = "+t+') ? "" : jade_interp',e.escape&&(t="jade.escape("+t+")"),this.bufferExpression(t)}else this.buf.push(e.val);e.block&&(e.buffer||this.buf.push("{"),this.visit(e.block),e.buffer||this.buf.push("}"))},visitEach:function(e){this.buf.push("// iterate "+e.obj+"\n"+";(function(){\n"+"  var $$obj = "+e.obj+";\n"+"  if ('number' == typeof $$obj.length) {\n"),e.alternative&&this.buf.push("  if ($$obj.length) {"),this.buf.push("    for (var "+e.key+" = 0, $$l = $$obj.length; "+e.key+" < $$l; "+e.key+"++) {\n"+"      var "+e.val+" = $$obj["+e.key+"];\n"),this.visit(e.block),this.buf.push("    }\n"),e.alternative&&(this.buf.push("  } else {"),this.visit(e.alternative),this.buf.push("  }")),this.buf.push("  } else {\n    var $$l = 0;\n    for (var "+e.key+" in $$obj) {\n"+"      $$l++;"+"      var "+e.val+" = $$obj["+e.key+"];\n"),this.visit(e.block),this.buf.push("    }\n"),e.alternative&&(this.buf.push("    if ($$l === 0) {"),this.visit(e.alternative),this.buf.push("    }")),this.buf.push("  }\n}).call(this);\n")},visitAttributes:function(e,t){if(t.length){if(e.length){var n=this.attrs(e);t.unshift(n)}this.bufferExpression("jade.attrs(jade.merge(["+t.join(",")+"]), "+u.stringify(this.terse)+")")}else e.length&&this.attrs(e,!0)},attrs:function(e,t){var n=[],r=[],i=[];return e.forEach(function(e){var s=e.name,a=e.escaped;if(s==="class")r.push(e.val),i.push(e.escaped);else if(c(e.val))if(t)this.buffer(o.attr(s,h(e.val),a,this.terse));else{var f=h(e.val);a&&(s.indexOf("data")!==0||typeof f=="string")&&(f=o.escape(f)),n.push(u.stringify(s)+": "+u.stringify(f))}else if(t)this.bufferExpression('jade.attr("'+s+'", '+e.val+", "+u.stringify(a)+", "+u.stringify(this.terse)+")");else{var f=e.val;a&&s.indexOf("data")!==0?f="jade.escape("+f+")":a&&(f="(typeof (jade_interp = "+f+') == "string" ? jade.escape(jade_interp) : jade_interp)'),n.push(u.stringify(s)+": "+f)}}.bind(this)),t?r.every(c)?this.buffer(o.cls(r.map(h),i)):this.bufferExpression("jade.cls(["+r.join(",")+"], "+u.stringify(i)+")"):r.length&&(r.every(c)?r=u.stringify(o.joinClasses(r.map(h).map(o.joinClasses).map(function(e,t){return i[t]?o.escape(e):e}))):r="(jade_interp = "+u.stringify(i)+","+" jade.joinClasses(["+r.join(",")+"].map(jade.joinClasses).map(function (cls, i) {"+"   return jade_interp[i] ? jade.escape(cls) : cls"+" }))"+")",r.length&&n.push('"class": '+r)),"{"+n.join(",")+"}"}}},{"./doctypes":2,"./filters":3,"./nodes":16,"./runtime":24,"./utils":25,"character-parser":32,constantinople:33,"void-elements":45}],2:[function(e,t,n){t.exports={"default":"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">'}},{}],3:[function(e,t,n){function r(e,t,n){if(typeof r[e]=="function")return r[e](t,n);throw new Error('unknown filter ":'+e+'"')}t.exports=r},{}],4:[function(e,t,n){t.exports=["a","abbr","acronym","b","br","code","em","font","i","img","ins","kbd","map","samp","small","span","strong","sub","sup"]},{}],5:[function(e,t,n){function l(e,t){var n=new(t.parser||r)(e,t.filename,t),i;try{i=n.parse()}catch(a){n=n.context(),o.rethrow(a,n.filename,n.lexer.lineno,n.input)}var f=new(t.compiler||s)(i,t),l;try{l=f.compile()}catch(a){a.line&&(a.filename||!t.filename)&&o.rethrow(a,a.filename,a.line,n.input)}t.debug&&console.error("\nCompiled Function:\n\n[90m%s[0m",l.replace(/^/gm,"  "));var c=[];t.globals&&(c=t.globals.slice()),c.push("jade"),c.push("jade_mixins"),c.push("jade_interp"),c.push("jade_debug"),c.push("buf");var h="var buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n"+(t.self?"var self = locals || {};\n"+l:u("locals || {}","\n"+l,c))+";"+'return buf.join("");';return{body:h,dependencies:n.dependencies}}var r=e("./parser"),i=e("./lexer"),s=e("./compiler"),o=e("./runtime"),u=e("with"),a=e("fs"),f=e("./utils");n.selfClosing=e("void-elements"),n.doctypes=e("./doctypes"),n.filters=e("./filters"),n.utils=e("./utils"),n.Compiler=s,n.Parser=r,n.Lexer=i,n.nodes=e("./nodes"),n.runtime=o,n.cache={},n.compile=function(e,t){var t=t||{},r=t.filename?f.stringify(t.filename):"undefined",i;e=String(e);var s=l(e,t);t.compileDebug!==!1?i=["var jade_debug = [{ lineno: 1, filename: "+r+" }];","try {",s.body,"} catch (err) {","  jade.rethrow(err, jade_debug[0].filename, jade_debug[0].lineno"+(t.compileDebug===!0?","+f.stringify(e):"")+");","}"].join("\n"):i=s.body,i=new Function("locals, jade",i);var u=function(e){return i(e,Object.create(o))};return t.client&&(u.toString=function(){var r=new Error("The `client` option is deprecated, use the `jade.compileClient` method instead");return r.name="Warning",console.error(r.stack||r.message),n.compileClient(e,t)}),u.dependencies=s.dependencies,u},n.compileClient=function(e,t){var t=t||{},n=t.name||"template",r=t.filename?f.stringify(t.filename):"undefined",i;return e=String(e),t.compileDebug?(t.compileDebug=!0,i=["var jade_debug = [{ lineno: 1, filename: "+r+" }];","try {",l(e,t).body,"} catch (err) {","  jade.rethrow(err, jade_debug[0].filename, jade_debug[0].lineno, "+f.stringify(e)+");","}"].join("\n")):(t.compileDebug=!1,i=l(e,t).body),"function "+n+"(locals) {\n"+i+"\n}"},n.compileFile=function(e,t){t=t||{};var r=e+":string";t.filename=e;var i=t.cache?n.cache[r]||(n.cache[r]=a.readFileSync(e,"utf8")):a.readFileSync(e,"utf8");return t.cache?n.cache[e]||(n.cache[e]=n.compile(i,t)):n.compile(i,t)},n.render=function(e,t,r){"function"==typeof t&&(r=t,t=undefined);if(typeof r=="function"){var i;try{i=n.render(e,t)}catch(s){return r(s)}return r(null,i)}t=t||{};if(t.cache&&!t.filename)throw new Error('the "filename" option is required for caching');var o=t.filename,u=t.cache?n.cache[o]||(n.cache[o]=n.compile(e,t)):n.compile(e,t);return u(t)},n.renderFile=function(e,t,r){"function"==typeof t&&(r=t,t=undefined);if(typeof r=="function"){var i;try{i=n.renderFile(e,t)}catch(s){return r(s)}return r(null,i)}t=t||{};var o=e+":string";t.filename=e;var u=t.cache?n.cache[o]||(n.cache[o]=a.readFileSync(e,"utf8")):a.readFileSync(e,"utf8");return n.render(u,t)},n.compileFileClient=function(e,t){t=t||{};var r=e+":string";t.filename=e;var i=t.cache?n.cache[r]||(n.cache[r]=a.readFileSync(e,"utf8")):a.readFileSync(e,"utf8");return n.compileClient(i,t)},n.__express=n.renderFile},{"./compiler":1,"./doctypes":2,"./filters":3,"./lexer":6,"./nodes":16,"./parser":23,"./runtime":24,"./utils":25,fs:26,"void-elements":45,"with":46}],6:[function(e,t,n){function o(e){Function("","return ("+e+")")}function u(e){var t=i(e);if(t.isNesting())throw new Error("Nesting must match on expression `"+e+"`")}var r=e("./utils"),i=e("character-parser"),s=t.exports=function(t,n){this.input=t.replace(/\r\n|\r/g,"\n"),this.filename=n,this.deferredTokens=[],this.lastIndents=0,this.lineno=1,this.stash=[],this.indentStack=[],this.indentRe=null,this.pipeless=!1};s.prototype={tok:function(e,t){return{type:e,line:this.lineno,val:t}},consume:function(e){this.input=this.input.substr(e)},scan:function(e,t){var n;if(n=e.exec(this.input))return this.consume(n[0].length),this.tok(t,n[1])},defer:function(e){this.deferredTokens.push(e)},lookahead:function(e){var t=e-this.stash.length;while(t-->0)this.stash.push(this.next());return this.stash[--e]},bracketExpression:function(e){e=e||0;var t=this.input[e];if(t!="("&&t!="{"&&t!="[")throw new Error("unrecognized start character");var n={"(":")","{":"}","[":"]"}[t],r=i.parseMax(this.input,{start:e+1});if(this.input[r.end]!==n)throw new Error("start character "+t+" does not match end character "+this.input[r.end]);return r},stashed:function(){return this.stash.length&&this.stash.shift()},deferred:function(){return this.deferredTokens.length&&this.deferredTokens.shift()},eos:function(){if(this.input.length)return;return this.indentStack.length?(this.indentStack.shift(),this.tok("outdent")):this.tok("eos")},blank:function(){var e;if(e=/^\n *\n/.exec(this.input))return this.consume(e[0].length-1),++this.lineno,this.pipeless?this.tok("text",""):this.next()},comment:function(){var e;if(e=/^\/\/(-)?([^\n]*)/.exec(this.input)){this.consume(e[0].length);var t=this.tok("comment",e[2]);return t.buffer="-"!=e[1],this.pipeless=!0,t}},interpolation:function(){if(/^#\{/.test(this.input)){var e;try{e=this.bracketExpression(1)}catch(t){return}return this.consume(e.end+1),this.tok("interpolation",e.src)}},tag:function(){var e;if(e=/^(\w[-:\w]*)(\/?)/.exec(this.input)){this.consume(e[0].length);var t,n=e[1];if(":"==n[n.length-1]){n=n.slice(0,-1),t=this.tok("tag",n),this.defer(this.tok(":"));while(" "==this.input[0])this.input=this.input.substr(1)}else t=this.tok("tag",n);return t.selfClosing=!!e[2],t}},filter:function(){var e=this.scan(/^:([\w\-]+)/,"filter");if(e)return this.pipeless=!0,e},doctype:function(){if(this.scan(/^!!! *([^\n]+)?/,"doctype"))throw new Error("`!!!` is deprecated, you must now use `doctype`");var e=this.scan(/^(?:doctype) *([^\n]+)?/,"doctype");if(e&&e.val&&e.val.trim()==="5")throw new Error("`doctype 5` is deprecated, you must now use `doctype html`");return e},id:function(){return this.scan(/^#([\w-]+)/,"id")},className:function(){return this.scan(/^\.([\w-]+)/,"class")},text:function(){return this.scan(/^(?:\| ?| )([^\n]+)/,"text")||this.scan(/^\|?( )/,"text")||this.scan(/^(<[^\n]*)/,"text")},textFail:function(){var e;if(e=this.scan(/^([^\.\n][^\n]+)/,"text"))return console.warn("Warning: missing space before text for line "+this.lineno+' of jade file "'+this.filename+'"'),e},dot:function(){var e;if(e=this.scan(/^\./,"dot"))return this.pipeless=!0,e},"extends":function(){return this.scan(/^extends? +([^\n]+)/,"extends")},prepend:function(){var e;if(e=/^prepend +([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t="prepend",n=e[1],r=this.tok("block",n);return r.mode=t,r}},append:function(){var e;if(e=/^append +([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t="append",n=e[1],r=this.tok("block",n);return r.mode=t,r}},block:function(){var e;if(e=/^block\b *(?:(prepend|append) +)?([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1]||"replace",n=e[2],r=this.tok("block",n);return r.mode=t,r}},mixinBlock:function(){var e;if(e=/^block[ \t]*(\n|$)/.exec(this.input))return this.consume(e[0].length-e[1].length),this.tok("mixin-block")},yield:function(){return this.scan(/^yield */,"yield")},include:function(){return this.scan(/^include +([^\n]+)/,"include")},includeFiltered:function(){var e;if(e=/^include:([\w\-]+)([\( ])/.exec(this.input)){this.consume(e[0].length-1);var t=e[1],n=e[2]==="("?this.attrs():null;if(e[2]!==" "&&this.input[0]!==" ")throw new Error("expected space after include:filter but got "+r.stringify(this.input[0]));e=/^ *([^\n]+)/.exec(this.input);if(!e||e[1].trim()==="")throw new Error("missing path for include:filter");this.consume(e[0].length);var i=e[1],s=this.tok("include",i);return s.filter=t,s.attrs=n,s}},"case":function(){return this.scan(/^case +([^\n]+)/,"case")},when:function(){return this.scan(/^when +([^:\n]+)/,"when")},"default":function(){return this.scan(/^default */,"default")},call:function(){var e,t;if(t=/^\+(\s*)(([-\w]+)|(#\{))/.exec(this.input)){if(t[3])this.consume(t[0].length),e=this.tok("call",t[3]);else{var n;try{n=this.bracketExpression(2+t[1].length)}catch(r){return}this.consume(n.end+1),o(n.src),e=this.tok("call","#{"+n.src+"}")}if(t=/^ *\(/.exec(this.input))try{var i=this.bracketExpression(t[0].length-1);/^\s*[-\w]+ *=/.test(i.src)||(this.consume(i.end+1),e.args=i.src)}catch(r){}return e}},mixin:function(){var e;if(e=/^mixin +([-\w]+)(?: *\((.*)\))? */.exec(this.input)){this.consume(e[0].length);var t=this.tok("mixin",e[1]);return t.args=e[2],t}},conditional:function(){var e;if(e=/^(if|unless|else if|else)\b([^\n]*)/.exec(this.input)){this.consume(e[0].length);var t=e[1],n=e[2],r=!1,i=!1;switch(t){case"if":o(n),n="if ("+n+")",r=!0;break;case"unless":o(n),n="if (!("+n+"))",r=!0;break;case"else if":o(n),n="else if ("+n+")",r=!0,i=!0;break;case"else":if(n&&n.trim())throw new Error("`else` cannot have a condition, perhaps you meant `else if`");n="else",i=!0}var s=this.tok("code",n);return s.isElse=i,s.isIf=r,s.requiresBlock=!0,s}},"while":function(){var e;if(e=/^while +([^\n]+)/.exec(this.input)){this.consume(e[0].length),o(e[1]);var t=this.tok("code","while ("+e[1]+")");return t.requiresBlock=!0,t}},each:function(){var e;if(e=/^(?:- *)?(?:each|for) +([a-zA-Z_$][\w$]*)(?: *, *([a-zA-Z_$][\w$]*))? * in *([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=this.tok("each",e[1]);return t.key=e[2]||"$index",o(e[3]),t.code=e[3],t}},code:function(){var e;if(e=/^(!?=|-)[ \t]*([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1];e[1]=e[2];var n=this.tok("code",e[1]);return n.escape=t.charAt(0)==="=",n.buffer=t.charAt(0)==="="||t.charAt(1)==="=",n.buffer&&o(e[1]),n}},attrs:function(){if("("==this.input.charAt(0)){var e=this.bracketExpression().end,t=this.input.substr(1,e-1),n=this.tok("attrs");u(t);var r="",s=function(e){return e.replace(/(\\)?#\{(.+)/g,function(e,t,n){if(t)return e;try{var u=i.parseMax(n);return n[u.end]!=="}"?e.substr(0,2)+s(e.substr(2)):(o(u.src),r+" + ("+u.src+") + "+r+s(n.substr(u.end+1)))}catch(a){return e.substr(0,2)+s(e.substr(2))}})};this.consume(e+1),n.attrs=[];var a=!0,f="",l="",c="",h=i.defaultState(),p="key",d=function(e){if(f.trim()==="")return!1;if(e===t.length)return!0;if(p==="key"){if(t[e]===" "||t[e]==="\n")for(var n=e;n<t.length;n++)if(t[n]!=" "&&t[n]!="\n")return t[n]==="="||t[n]==="!"||t[n]===","?!1:!0;return t[e]===","}if(p==="value"&&!h.isNesting())try{Function("","return ("+l+");");if(t[e]===" "||t[e]==="\n")for(var n=e;n<t.length;n++)if(t[n]!=" "&&t[n]!="\n")return i.isPunctuator(t[n])&&t[n]!='"'&&t[n]!="'"?!1:!0;return t[e]===","}catch(r){return!1}};this.lineno+=t.split("\n").length-1;for(var v=0;v<=t.length;v++)if(d(v))l=l.trim(),l&&o(l),f=f.trim(),f=f.replace(/^['"]|['"]$/g,""),n.attrs.push({name:f,val:""==l?!0:l,escaped:a}),f=l="",p="key",a=!1;else switch(p){case"key-char":if(t[v]===r){p="key";if(v+1<t.length&&[" ",",","!","=","\n"].indexOf(t[v+1])===-1)throw new Error("Unexpected character "+t[v+1]+" expected ` `, `\\n`, `,`, `!` or `=`")}else f+=t[v];break;case"key":if(f!==""||t[v]!=='"'&&t[v]!=="'")if(t[v]==="!"||t[v]==="="){a=t[v]!=="!",t[v]==="!"&&v++;if(t[v]!=="=")throw new Error("Unexpected character "+t[v]+" expected `=`");p="value",h=i.defaultState()}else f+=t[v];else p="key-char",r=t[v];break;case"value":h=i.parseChar(t[v],h),h.isString()?(p="string",r=t[v],c=t[v]):l+=t[v];break;case"string":h=i.parseChar(t[v],h),c+=t[v],h.isString()||(p="value",l+=s(c))}return"/"==this.input.charAt(0)&&(this.consume(1),n.selfClosing=!0),n}},attributesBlock:function(){var e;if(/^&attributes\b/.test(this.input)){this.consume(11);var t=this.bracketExpression();return this.consume(t.end+1),this.tok("&attributes",t.src)}},indent:function(){var e,t;this.indentRe?e=this.indentRe.exec(this.input):(t=/^\n(\t*) */,e=t.exec(this.input),e&&!e[1].length&&(t=/^\n( *)/,e=t.exec(this.input)),e&&e[1].length&&(this.indentRe=t));if(e){var n,r=e[1].length;++this.lineno,this.consume(r+1);if(" "==this.input[0]||"	"==this.input[0])throw new Error("Invalid indentation, you can use tabs or spaces but not both");if("\n"==this.input[0])return this.pipeless=!1,this.tok("newline");if(this.indentStack.length&&r<this.indentStack[0]){while(this.indentStack.length&&this.indentStack[0]>r)this.stash.push(this.tok("outdent")),this.indentStack.shift();n=this.stash.pop()}else r&&r!=this.indentStack[0]?(this.indentStack.unshift(r),n=this.tok("indent",r)):n=this.tok("newline");return this.pipeless=!1,n}},pipelessText:function(){if(!this.pipeless)return;var e,t;this.indentRe?e=this.indentRe.exec(this.input):(t=/^\n(\t*) */,e=t.exec(this.input),e&&!e[1].length&&(t=/^\n( *)/,e=t.exec(this.input)),e&&e[1].length&&(this.indentRe=t));var n=e&&e[1].length;if(n&&(this.indentStack.length===0||n>this.indentStack[0])){var r=e[1],i,s=[],o;do{var u=this.input.substr(1).indexOf("\n");-1==u&&(u=this.input.length-1);var a=this.input.substr(1,u);o=a.substr(0,r.length)===r||!a.trim(),o&&(this.consume(a.length+1),s.push(a.substr(r.length)))}while(this.input.length&&o);while(this.input.length===0&&s[s.length-1]==="")s.pop();return this.tok("pipeless-text",s)}},colon:function(){return this.scan(/^: */,":")},fail:function(){throw new Error("unexpected text "+this.input.substr(0,5))},advance:function(){return this.stashed()||this.next()},next:function(){return this.deferred()||this.blank()||this.eos()||this.pipelessText()||this.yield()||this.doctype()||this.interpolation()||this["case"]()||this.when()||this["default"]()||this["extends"]()||this.append()||this.prepend()||this.block()||this.mixinBlock()||this.include()||this.includeFiltered()||this.mixin()||this.call()||this.conditional()||this.each()||this["while"]()||this.tag()||this.filter()||this.code()||this.id()||this.className()||this.attrs()||this.attributesBlock()||this.indent()||this.text()||this.comment()||this.colon()||this.dot()||this.textFail()||this.fail()}}},{"./utils":25,"character-parser":32}],7:[function(e,t,n){var r=e("./node"),i=t.exports=function(){this.attributeNames=[],this.attrs=[],this.attributeBlocks=[]};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Attrs",i.prototype.setAttribute=function(e,t,n){if(e!=="class"&&this.attributeNames.indexOf(e)!==-1)throw new Error('Duplicate attribute "'+e+'" is not allowed.');return this.attributeNames.push(e),this.attrs.push({name:e,val:t,escaped:n}),this},i.prototype.removeAttribute=function(e){var t=new Error("attrs.removeAttribute is deprecated and will be removed in v2.0.0");console.warn(t.stack);for(var n=0,r=this.attrs.length;n<r;++n)this.attrs[n]&&this.attrs[n].name==e&&delete this.attrs[n]},i.prototype.getAttribute=function(e){var t=new Error("attrs.getAttribute is deprecated and will be removed in v2.0.0");console.warn(t.stack);for(var n=0,r=this.attrs.length;n<r;++n)if(this.attrs[n]&&this.attrs[n].name==e)return this.attrs[n].val},i.prototype.addAttributes=function(e){this.attributeBlocks.push(e)}},{"./node":20}],8:[function(e,t,n){var r=e("./node"),i=t.exports=function(t,n,r){this.block=n,this.val=t,this.buffer=r};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="BlockComment"},{"./node":20}],9:[function(e,t,n){var r=e("./node"),i=t.exports=function(t){this.nodes=[],t&&this.push(t)};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Block",i.prototype.isBlock=!0,i.prototype.replace=function(e){var t=new Error("block.replace is deprecated and will be removed in v2.0.0");console.warn(t.stack),e.nodes=this.nodes},i.prototype.push=function(e){return this.nodes.push(e)},i.prototype.isEmpty=function(){return 0==this.nodes.length},i.prototype.unshift=function(e){return this.nodes.unshift(e)},i.prototype.includeBlock=function(){var e=this,t;for(var n=0,r=this.nodes.length;n<r;++n){t=this.nodes[n];if(t.yield)return t;if(t.textOnly)continue;t.includeBlock?e=t.includeBlock():t.block&&!t.block.isEmpty()&&(e=t.block.includeBlock());if(e.yield)return e}return e},i.prototype.clone=function(){var e=new Error("block.clone is deprecated and will be removed in v2.0.0");console.warn(e.stack);var t=new i;for(var n=0,r=this.nodes.length;n<r;++n)t.push(this.nodes[n].clone());return t}},{"./node":20}],10:[function(e,t,n){var r=e("./node"),i=n=t.exports=function(t,n){this.expr=t,this.block=n};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Case";var s=n.When=function(t,n){this.expr=t,this.block=n,this.debug=!1};s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.type="When"},{"./node":20}],11:[function(e,t,n){var r=e("./node"),i=t.exports=function(t,n,r){this.val=t,this.buffer=n,this.escape=r,t.match(/^ *else/)&&(this.debug=!1)};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Code"},{"./node":20}],12:[function(e,t,n){var r=e("./node"),i=t.exports=function(t,n){this.val=t,this.buffer=n};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Comment"},{"./node":20}],13:[function(e,t,n){var r=e("./node"),i=t.exports=function(t){this.val=t};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Doctype"},{"./node":20}],14:[function(e,t,n){var r=e("./node"),i=t.exports=function(t,n,r,i){this.obj=t,this.val=n,this.key=r,this.block=i};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Each"},{"./node":20}],15:[function(e,t,n){var r=e("./node"),i=t.exports=function(t,n,r){this.name=t,this.block=n,this.attrs=r};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Filter"},{"./node":20}],16:[function(e,t,n){n.Node=e("./node"),n.Tag=e("./tag"),n.Code=e("./code"),n.Each=e("./each"),n.Case=e("./case"),n.Text=e("./text"),n.Block=e("./block"),n.MixinBlock=e("./mixin-block"),n.Mixin=e("./mixin"),n.Filter=e("./filter"),n.Comment=e("./comment"),n.Literal=e("./literal"),n.BlockComment=e("./block-comment"),n.Doctype=e("./doctype")},{"./block":9,"./block-comment":8,"./case":10,"./code":11,"./comment":12,"./doctype":13,"./each":14,"./filter":15,"./literal":17,"./mixin":19,"./mixin-block":18,"./node":20,"./tag":21,"./text":22}],17:[function(e,t,n){var r=e("./node"),i=t.exports=function(t){this.str=t};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Literal"},{"./node":20}],18:[function(e,t,n){var r=e("./node"),i=t.exports=function(){};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="MixinBlock"},{"./node":20}],19:[function(e,t,n){var r=e("./attrs"),i=t.exports=function(t,n,i,s){r.call(this),this.name=t,this.args=n,this.block=i,this.call=s};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Mixin"},{"./attrs":7}],20:[function(e,t,n){var r=t.exports=function(){};r.prototype.clone=function(){var e=new Error("node.clone is deprecated and will be removed in v2.0.0");return console.warn(e.stack),this},r.prototype.type=""},{}],21:[function(e,t,n){var r=e("./attrs"),i=e("./block"),s=e("../inline-tags"),o=t.exports=function(t,n){r.call(this),this.name=t,this.block=n||new i};o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.type="Tag",o.prototype.clone=function(){var e=new Error("tag.clone is deprecated and will be removed in v2.0.0");console.warn(e.stack);var t=new o(this.name,this.block.clone());return t.line=this.line,t.attrs=this.attrs,t.textOnly=this.textOnly,t},o.prototype.isInline=function(){return~s.indexOf(this.name)},o.prototype.canInline=function(){function t(e){return e.isBlock?e.nodes.every(t):e.isText||e.isInline&&e.isInline()}var e=this.block.nodes;if(!e.length)return!0;if(1==e.length)return t(e[0]);if(this.block.nodes.every(t)){for(var n=1,r=e.length;n<r;++n)if(e[n-1].isText&&e[n].isText)return!1;return!0}return!1}},{"../inline-tags":4,"./attrs":7,"./block":9}],22:[function(e,t,n){var r=e("./node"),i=t.exports=function(t){this.val=t};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Text",i.prototype.isText=!0},{"./node":20}],23:[function(e,t,n){var r=e("./lexer"),i=e("./nodes"),s=e("./utils"),o=e("./filters"),u=e("path"),a=e("constantinople"),f=e("character-parser").parseMax,l=u.extname,c=n=t.exports=function(t,n,i){this.input=t.replace(/^\uFEFF/,""),this.lexer=new r(this.input,n),this.filename=n,this.blocks={},this.mixins={},this.options=i,this.contexts=[this],this.inMixin=!1,this.dependencies=[],this.inBlock=0};c.prototype={constructor:c,context:function(e){if(!e)return this.contexts.pop();this.contexts.push(e)},advance:function(){return this.lexer.advance()},peek:function(){return this.lookahead(1)},line:function(){return this.lexer.lineno},lookahead:function(e){return this.lexer.lookahead(e)},parse:function(){var e=new i.Block,t;e.line=0,e.filename=this.filename;while("eos"!=this.peek().type)if("newline"==this.peek().type)this.advance();else{var n=this.peek(),r=this.parseExpr();r.filename=r.filename||this.filename,r.line=n.line,e.push(r)}if(t=this.extending){this.context(t);var o=t.parse();this.context();for(var u in this.mixins)o.unshift(this.mixins[u]);return o}if(!this.extending&&!this.included&&Object.keys(this.blocks).length){var a=[];s.walkAST(e,function(e){e.type==="Block"&&e.name&&a.push(e.name)}),Object.keys(this.blocks).forEach(function(e){a.indexOf(e)===-1&&!this.blocks[e].isSubBlock&&console.warn('Warning: Unexpected block "'+e+'" '+" on line "+this.blocks[e].line+" of "+this.blocks[e].filename+". This block is never used. This warning will be an error in v2.0.0")}.bind(this))}return e},expect:function(e){if(this.peek().type===e)return this.advance();throw new Error('expected "'+e+'", but got "'+this.peek().type+'"')},accept:function(e){if(this.peek().type===e)return this.advance()},parseExpr:function(){switch(this.peek().type){case"tag":return this.parseTag();case"mixin":return this.parseMixin();case"block":return this.parseBlock();case"mixin-block":return this.parseMixinBlock();case"case":return this.parseCase();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"doctype":return this.parseDoctype();case"filter":return this.parseFilter();case"comment":return this.parseComment();case"text":return this.parseText();case"each":return this.parseEach();case"code":return this.parseCode();case"call":return this.parseCall();case"interpolation":return this.parseInterpolation();case"yield":this.advance();var e=new i.Block;return e.yield=!0,e;case"id":case"class":var t=this.advance();return this.lexer.defer(this.lexer.tok("tag","div")),this.lexer.defer(t),this.parseExpr();default:throw new Error('unexpected token "'+this.peek().type+'"')}},parseText:function(){var e=this.expect("text"),t=this.parseInlineTagsInText(e.val);if(t.length===1)return t[0];var n=new i.Block;for(var r=0;r<t.length;r++)n.push(t[r]);return n},parseBlockExpansion:function(){return":"==this.peek().type?(this.advance(),new i.Block(this.parseExpr())):this.block()},parseCase:function(){var e=this.expect("case").val,t=new i.Case(e);t.line=this.line();var n=new i.Block;n.line=this.line(),n.filename=this.filename,this.expect("indent");while("outdent"!=this.peek().type)switch(this.peek().type){case"newline":this.advance();break;case"when":n.push(this.parseWhen());break;case"default":n.push(this.parseDefault());break;default:throw new Error('Unexpected token "'+this.peek().type+'", expected "when", "default" or "newline"')}return this.expect("outdent"),t.block=n,t},parseWhen:function(){var e=this.expect("when").val;return this.peek().type!=="newline"?new i.Case.When(e,this.parseBlockExpansion()):new i.Case.When(e)},parseDefault:function(){return this.expect("default"),new i.Case.When("default",this.parseBlockExpansion())},parseCode:function(e){var t=this.expect("code"),n=new i.Code(t.val,t.buffer,t.escape),r;n.line=this.line();if(t.isElse&&!t.hasIf)throw new Error("Unexpected else without if");return r="indent"==this.peek().type,r&&(n.block=this.block()),t.requiresBlock&&!r&&(n.block=new i.Block),t.isIf&&this.peek().isElse?this.peek().hasIf=!0:t.isIf&&this.peek().type==="newline"&&this.lookahead(2).isElse&&(this.lookahead(2).hasIf=!0),n},parseComment:function(){var e=this.expect("comment"),t,n;return(n=this.parseTextBlock())?t=new i.BlockComment(e.val,n,e.buffer):t=new i.Comment(e.val,e.buffer),t.line=this.line(),t},parseDoctype:function(){var e=this.expect("doctype"),t=new i.Doctype(e.val);return t.line=this.line(),t},parseFilter:function(){var e=this.expect("filter"),t=this.accept("attrs"),n;n=this.parseTextBlock()||new i.Block;var r={};t&&t.attrs.forEach(function(e){r[e.name]=a.toConstant(e.val)});var s=new i.Filter(e.val,n,r);return s.line=this.line(),s},parseEach:function(){var e=this.expect("each"),t=new i.Each(e.code,e.val,e.key);return t.line=this.line(),t.block=this.block(),this.peek().type=="code"&&this.peek().val=="else"&&(this.advance(),t.alternative=this.block()),t},resolvePath:function(t,n){var r=e("path"),i=r.dirname,s=r.basename,o=r.join;if(t[0]!=="/"&&!this.filename)throw new Error('the "filename" option is required to use "'+n+'" with "relative" paths');if(t[0]==="/"&&!this.options.basedir)throw new Error('the "basedir" option is required to use "'+n+'" with "absolute" paths');return t=o(t[0]==="/"?this.options.basedir:i(this.filename),t),s(t).indexOf(".")===-1&&(t+=".jade"),t},parseExtends:function(){var t=e("fs"),n=this.resolvePath(this.expect("extends").val.trim(),"extends");".jade"!=n.substr(-5)&&(n+=".jade"),this.dependencies.push(n);var r=t.readFileSync(n,"utf8"),s=new this.constructor(r,n,this.options);return s.dependencies=this.dependencies,s.blocks=this.blocks,s.included=this.included,s.contexts=this.contexts,this.extending=s,new i.Literal("")},parseBlock:function(){var e=this.expect("block"),t=e.mode,n=e.val.trim(),r=e.line;this.inBlock++,e="indent"==this.peek().type?this.block():new i.Block(new i.Literal("")),this.inBlock--,e.name=n,e.line=r;var s=this.blocks[n]||{prepended:[],appended:[]};if(s.mode==="replace")return this.blocks[n]=s;var o=s.prepended.concat(e.nodes).concat(s.appended);switch(t){case"append":s.appended=s.parser===this?s.appended.concat(e.nodes):e.nodes.concat(s.appended);break;case"prepend":s.prepended=s.parser===this?e.nodes.concat(s.prepended):s.prepended.concat(e.nodes)}return e.nodes=o,e.appended=s.appended,e.prepended=s.prepended,e.mode=t,e.parser=this,e.isSubBlock=this.inBlock>0,this.blocks[n]=e},parseMixinBlock:function(){var e=this.expect("mixin-block");if(!this.inMixin)throw new Error("Anonymous blocks are not allowed unless they are part of a mixin.");return new i.MixinBlock},parseInclude:function(){var t=e("fs"),n=this.expect("include"),r=this.resolvePath(n.val.trim(),"include");this.dependencies.push(r);if(n.filter){var u=t.readFileSync(r,"utf8").replace(/\r/g,""),f={filename:r};return n.attrs&&n.attrs.attrs.forEach(function(e){f[e.name]=a.toConstant(e.val)}),u=o(n.filter,u,f),new i.Literal(u)}if(".jade"!=r.substr(-5)){var u=t.readFileSync(r,"utf8").replace(/\r/g,"");return new i.Literal(u)}var u=t.readFileSync(r,"utf8"),l=new this.constructor(u,r,this.options);l.dependencies=this.dependencies,l.blocks=s.merge({},this.blocks),l.included=!0,l.mixins=this.mixins,this.context(l);var c=l.parse();return this.context(),c.filename=r,"indent"==this.peek().type&&c.includeBlock().push(this.block()),c},parseCall:function(){var e=this.expect("call"),t=e.val,n=e.args,r=new i.Mixin(t,n,new i.Block,!0);return this.tag(r),r.code&&(r.block.push(r.code),r.code=null),r.block.isEmpty()&&(r.block=null),r},parseMixin:function(){var e=this.expect("mixin"),t=e.val,n=e.args,r;return"indent"==this.peek().type?(this.inMixin=!0,r=new i.Mixin(t,n,this.block(),!1),this.mixins[t]=r,this.inMixin=!1,r):new i.Mixin(t,n,null,!0)},parseInlineTagsInText:function(e){var t=this.line(),n=/(\\)?#\[((?:.|\n)*)$/.exec(e);if(n){if(n[1]){var r=new i.Text(e.substr(0,n.index)+"#[");r.line=t;var s=this.parseInlineTagsInText(n[2]);return s[0].type==="Text"&&(r.val+=s[0].val,s.shift()),[r].concat(s)}var r=new i.Text(e.substr(0,n.index));r.line=t;var o=[r],s=n[2],u=f(s),a=new c(u.src,this.filename,this.options);return o.push(a.parse()),o.concat(this.parseInlineTagsInText(s.substr(u.end+1)))}var r=new i.Text(e);return r.line=t,[r]},parseTextBlock:function(){var e=new i.Block;e.line=this.line();var t=this.peek();if(t.type!=="pipeless-text")return;return this.advance(),e.nodes=t.val.reduce(function(e,t){return e.concat(this.parseInlineTagsInText(t))}.bind(this),[]),e},block:function(){var e=new i.Block;e.line=this.line(),e.filename=this.filename,this.expect("indent");while("outdent"!=this.peek().type)if("newline"==this.peek().type)this.advance();else{var t=this.parseExpr();t.filename=this.filename,e.push(t)}return this.expect("outdent"),e},parseInterpolation:function(){var e=this.advance(),t=new i.Tag(e.val);return t.buffer=!0,this.tag(t)},parseTag:function(){var e=this.advance(),t=new i.Tag(e.val);return t.selfClosing=e.selfClosing,this.tag(t)},tag:function(e){e.line=this.line();var t=!1;e:for(;;)switch(this.peek().type){case"id":case"class":var n=this.advance();e.setAttribute(n.type,"'"+n.val+"'");continue;case"attrs":t&&console.warn(this.filename+", line "+this.peek().line+":\nYou should not have jade tags with multiple attributes."),t=!0;var n=this.advance(),r=n.attrs;n.selfClosing&&(e.selfClosing=!0);for(var s=0;s<r.length;s++)e.setAttribute(r[s].name,r[s].val,r[s].escaped);continue;case"&attributes":var n=this.advance();e.addAttributes(n.val);break;default:break e}"dot"==this.peek().type&&(e.textOnly=!0,this.advance());switch(this.peek().type){case"text":e.block.push(this.parseText());break;case"code":e.code=this.parseCode();break;case":":this.advance(),e.block=new i.Block,e.block.push(this.parseExpr());break;case"newline":case"indent":case"outdent":case"eos":case"pipeless-text":break;default:throw new Error("Unexpected token `"+this.peek().type+"` expected `text`, `code`, `:`, `newline` or `eos`")}while("newline"==this.peek().type)this.advance();if(e.textOnly)e.block=this.parseTextBlock();else if("indent"==this.peek().type){var o=this.block();for(var s=0,u=o.nodes.length;s<u;++s)e.block.push(o.nodes[s])}return e}}},{"./filters":3,"./lexer":6,"./nodes":16,"./utils":25,"character-parser":32,constantinople:33,fs:26,path:29}],24:[function(e,t,n){function r(e){return e!=null&&e!==""}function i(e){return Array.isArray(e)?e.map(i).filter(r).join(" "):e}n.merge=function s(e,t){if(arguments.length===1){var n=e[0];for(var i=1;i<e.length;i++)n=s(n,e[i]);return n}var o=e["class"],u=t["class"];if(o||u)o=o||[],u=u||[],Array.isArray(o)||(o=[o]),Array.isArray(u)||(u=[u]),e["class"]=o.concat(u).filter(r);for(var a in t)a!="class"&&(e[a]=t[a]);return e},n.joinClasses=i,n.cls=function(t,r){var s=[];for(var o=0;o<t.length;o++)r&&r[o]?s.push(n.escape(i([t[o]]))):s.push(i(t[o]));var u=i(s);return u.length?' class="'+u+'"':""},n.attr=function(t,r,i,s){return"boolean"==typeof r||null==r?r?" "+(s?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof r?" "+t+"='"+JSON.stringify(r).replace(/'/g,"&apos;")+"'":i?" "+t+'="'+n.escape(r)+'"':" "+t+'="'+r+'"'},n.attrs=function(t,r){var s=[],o=Object.keys(t);if(o.length)for(var u=0;u<o.length;++u){var a=o[u],f=t[a];"class"==a?(f=i(f))&&s.push(" "+a+'="'+f+'"'):s.push(n.attr(a,f,!1,r))}return s.join("")},n.escape=function(t){var n=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return n===""+t?t:n},n.rethrow=function o(t,n,r,i){if(t instanceof Error){if((typeof window!="undefined"||!n)&&!i)throw t.message+=" on line "+r,t;try{i=i||e("fs").readFileSync(n,"utf8")}catch(s){o(t,null,r)}var u=3,a=i.split("\n"),f=Math.max(r-u,0),l=Math.min(a.length,r+u),u=a.slice(f,l).map(function(e,t){var n=t+f+1;return(n==r?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=n,t.message=(n||"Jade")+":"+r+"\n"+u+"\n\n"+t.message,t}throw t}},{fs:26}],25:[function(e,t,n){n.merge=function(e,t){for(var n in t)e[n]=t[n];return e},n.stringify=function(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},n.walkAST=function r(e,t,n){t&&t(e);switch(e.type){case"Block":e.nodes.forEach(function(e){r(e,t,n)});break;case"Case":case"Each":case"Mixin":case"Tag":case"When":case"Code":e.block&&r(e.block,t,n);break;case"Attrs":case"BlockComment":case"Comment":case"Doctype":case"Filter":case"Literal":case"MixinBlock":case"Text":break;default:throw new Error("Unexpected node type "+e.type)}n&&n(e)}},{}],26:[function(e,t,n){},{}],27:[function(e,t,n){typeof Object.create=="function"?t.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],28:[function(e,t,n){var r=t.exports={};r.nextTick=function(){var e=typeof window!="undefined"&&window.setImmediate,t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(n.length>0){var r=n.shift();r()}}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],29:[function(e,t,n){(function(e){function t(e,t){var n=0;for(var r=e.length-1;r>=0;r--){var i=e[r];i==="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};n.resolve=function(){var n="",r=!1;for(var i=arguments.length-1;i>=-1&&!r;i--){var o=i>=0?arguments[i]:e.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)continue;n=o+"/"+n,r=o.charAt(0)==="/"}return n=t(s(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),i=o(e,-1)==="/";return e=t(s(e.split("/"),function(e){return!!e}),!r).join("/"),!e&&!r&&(e="."),e&&i&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return e.charAt(0)==="/"},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(s(e,function(e,t){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){var t=0;for(;t<e.length;t++)if(e[t]!=="")break;var n=e.length-1;for(;n>=0;n--)if(e[n]!=="")break;return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);var i=r(e.split("/")),s=r(t.split("/")),o=Math.min(i.length,s.length),u=o;for(var a=0;a<o;a++)if(i[a]!==s[a]){u=a;break}var f=[];for(var a=u;a<i.length;a++)f.push("..");return f=f.concat(s.slice(u)),f.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return!n&&!r?".":(r&&(r=r.substr(0,r.length-1)),n+r)},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var o="ab".substr(-1)==="b"?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("C:\\Users\\forbes.lindesay\\Documents\\GitHub\\jade\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js"))},{"C:\\Users\\forbes.lindesay\\Documents\\GitHub\\jade\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js":28}],30:[function(e,t,n){t.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}},{}],31:[function(e,t,n){(function(t,r){function u(e,t){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&n._extend(r,t),T(r.showHidden)&&(r.showHidden=!1),T(r.depth)&&(r.depth=2),T(r.colors)&&(r.colors=!1),T(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,e,r.depth)}function a(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function f(e,t){return e}function l(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return S(i)||(i=c(e,i,r)),i}var s=h(e,t);if(s)return s;var o=Object.keys(t),u=l(o);e.showHidden&&(o=Object.getOwnPropertyNames(t));if(L(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(t);if(o.length===0){if(A(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(N(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(L(t))return p(t)}var f="",y=!1,b=["{","}"];g(t)&&(y=!0,b=["[","]"]);if(A(t)){var w=t.name?": "+t.name:"";f=" [Function"+w+"]"}N(t)&&(f=" "+RegExp.prototype.toString.call(t)),k(t)&&(f=" "+Date.prototype.toUTCString.call(t)),L(t)&&(f=" "+p(t));if(o.length!==0||!!y&&t.length!=0){if(r<0)return N(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return y?E=d(e,t,r,u,o):E=o.map(function(n){return v(e,t,r,u,n,y)}),e.seen.pop(),m(E,f,b)}return b[0]+f+b[1]}function h(e,t){if(T(t))return e.stylize("undefined","undefined");if(S(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(E(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){var s=[];for(var o=0,u=t.length;o<u;++o)H(t,String(o))?s.push(v(e,t,n,r,String(o),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(v(e,t,n,r,i,!0))}),s}function v(e,t,n,r,i,s){var o,u,a;a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},a.get?a.set?u=e.stylize("[Getter/Setter]","special"):u=e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),H(r,i)||(o="["+i+"]"),u||(e.seen.indexOf(a.value)<0?(b(n)?u=c(e,a.value,null):u=c(e,a.value,n-1),u.indexOf("\n")>-1&&(s?u=u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):u="\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special"));if(T(o)){if(s&&i.match(/^\d+$/))return u;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+u}function m(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function y(e){return typeof e=="boolean"}function b(e){return e===null}function w(e){return e==null}function E(e){return typeof e=="number"}function S(e){return typeof e=="string"}function x(e){return typeof e=="symbol"}function T(e){return e===void 0}function N(e){return C(e)&&M(e)==="[object RegExp]"}function C(e){return typeof e=="object"&&e!==null}function k(e){return C(e)&&M(e)==="[object Date]"}function L(e){return C(e)&&(M(e)==="[object Error]"||e instanceof Error)}function A(e){return typeof e=="function"}function O(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}function M(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i=/%[sdj%]/g;n.format=function(e){if(!S(e)){var t=[];for(var n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}var n=1,r=arguments,s=r.length,o=String(e).replace(i,function(e){if(e==="%%")return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"};default:return e}});for(var a=r[n];n<s;a=r[++n])b(a)||!C(a)?o+=" "+a:o+=" "+u(a);return o},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(T(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var s={},o;n.debuglog=function(e){T(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase();if(!s[e])if((new RegExp("\\b"+e+"\\b","i")).test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else s[e]=function(){};return s[e]},n.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=g,n.isBoolean=y,n.isNull=b,n.isNullOrUndefined=w,n.isNumber=E,n.isString=S,n.isSymbol=x,n.isUndefined=T,n.isRegExp=N,n.isObject=C,n.isDate=k,n.isError=L,n.isFunction=A,n.isPrimitive=O,n.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",P(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!C(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e}}).call(this,e("C:\\Users\\forbes.lindesay\\Documents\\GitHub\\jade\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js"),typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./support/isBuffer":30,"C:\\Users\\forbes.lindesay\\Documents\\GitHub\\jade\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js":28,inherits:27}],32:[function(e,t,n){function r(e,t,r){r=r||{},t=t||n.defaultState();var i=r.start||0,s=r.end||e.length,o=i;while(o<s){if(t.roundDepth<0||t.curlyDepth<0||t.squareDepth<0)throw new SyntaxError("Mismatched Bracket: "+e[o-1]);n.parseChar(e[o++],t)}return t}function i(e,t){t=t||{};var r=t.start||0,i=r,s=n.defaultState();while(s.roundDepth>=0&&s.curlyDepth>=0&&s.squareDepth>=0){if(i>=e.length)throw new Error("The end of the string was reached with no closing bracket found.");n.parseChar(e[i++],s)}var o=i-1;return{start:r,end:o,src:e.substring(r,o)}}function s(e,t,r){r=r||{};var i=r.includeLineComment||!1,s=r.start||0,o=s,u=n.defaultState();while(u.isString()||u.regexp||u.blockComment||!i&&u.lineComment||!a(e,t,o))n.parseChar(e[o++],u);var f=o;return{start:s,end:f,src:e.substring(s,f)}}function o(e,t){if(e.length!==1)throw new Error("Character must be a string of length 1");t=t||n.defaultState(),t.src=t.src||"",t.src+=e;var r=t.blockComment||t.lineComment,i=t.history?t.history[0]:"";if(t.regexpStart){if(e==="/"||e=="*")t.regexp=!1;t.regexpStart=!1}return t.lineComment?e==="\n"&&(t.lineComment=!1):t.blockComment?t.lastChar==="*"&&e==="/"&&(t.blockComment=!1):t.singleQuote?e==="'"&&!t.escaped?t.singleQuote=!1:e==="\\"&&!t.escaped?t.escaped=!0:t.escaped=!1:t.doubleQuote?e==='"'&&!t.escaped?t.doubleQuote=!1:e==="\\"&&!t.escaped?t.escaped=!0:t.escaped=!1:t.regexp?e==="/"&&!t.escaped?t.regexp=!1:e==="\\"&&!t.escaped?t.escaped=!0:t.escaped=!1:i==="/"&&e==="/"?(t.history=t.history.substr(1),t.lineComment=!0):i==="/"&&e==="*"?(t.history=t.history.substr(1),t.blockComment=!0):e==="/"&&c(t.history)?(t.regexp=!0,t.regexpStart=!0):e==="'"?t.singleQuote=!0:e==='"'?t.doubleQuote=!0:e==="("?t.roundDepth++:e===")"?t.roundDepth--:e==="{"?t.curlyDepth++:e==="}"?t.curlyDepth--:e==="["?t.squareDepth++:e==="]"&&t.squareDepth--,!t.blockComment&&!t.lineComment&&!r&&(t.history=e+t.history),t.lastChar=e,t}function u(){this.lineComment=!1,this.blockComment=!1,this.singleQuote=!1,this.doubleQuote=!1,this.regexp=!1,this.escaped=!1,this.roundDepth=0,this.curlyDepth=0,this.squareDepth=0,this.history="",this.lastChar=""}function a(e,t,n){return e.substr(n||0,t.length)===t}function f(e){if(!e)return!0;var t=e.charCodeAt(0);switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 33:case 61:return!0;default:return!1}}function l(e){return e==="if"||e==="in"||e==="do"||e==="var"||e==="for"||e==="new"||e==="try"||e==="let"||e==="this"||e==="else"||e==="case"||e==="void"||e==="with"||e==="enum"||e==="while"||e==="break"||e==="catch"||e==="throw"||e==="const"||e==="yield"||e==="class"||e==="super"||e==="return"||e==="typeof"||e==="delete"||e==="switch"||e==="export"||e==="import"||e==="default"||e==="finally"||e==="extends"||e==="function"||e==="continue"||e==="debugger"||e==="package"||e==="private"||e==="interface"||e==="instanceof"||e==="implements"||e==="protected"||e==="public"||e==="static"||e==="yield"||e==="let"}function c(e){return e=e.replace(/^\s*/,""),e[0]===")"?!1:e[0]==="}"?!0:f(e[0])?!0:/^\w+\b/.test(e)&&l(/^\w+\b/.exec(e)[0].split("").reverse().join(""))?!0:!1}n=t.exports=r,n.parse=r,n.parseMax=i,n.parseUntil=s,n.parseChar=o,n.defaultState=function(){return new u},u.prototype.isString=function(){return this.singleQuote||this.doubleQuote},u.prototype.isComment=function(){return this.lineComment||this.blockComment},u.prototype.isNesting=function(){return this.isString()||this.isComment()||this.regexp||this.roundDepth>0||this.curlyDepth>0||this.squareDepth>0},n.isPunctuator=f,n.isKeyword=l},{}],33:[function(e,t,n){"use strict";function u(e,t){e="("+e+")";if(i===e&&o===t)return s;i=e;try{return s=f(e).filter(function(e){return!t||!(e in t)}).length===0}catch(n){return s=!1}}function a(e,t){if(!u(e,t))throw new Error(JSON.stringify(e)+" is not constant.");return Function(Object.keys(t||{}).join(","),"return ("+e+")").apply(null,Object.keys(t||{}).map(function(e){return t[e]}))}function f(e){var t=r.parse(e.toString());t.figure_out_scope();var n=t.globals.map(function(e,t){return t});return n}var r=e("uglify-js"),i="(null)",s=!0,o=undefined;t.exports=u,u.isConstant=u,u.toConstant=a},{"uglify-js":44}],34:[function(e,t,n){n.SourceMapGenerator=e("./source-map/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./source-map/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":39,"./source-map/source-map-generator":40,"./source-map/source-node":41}],35:[function(t,n,r){e(function(e,t,n){function i(){this._array=[],this._set={}}var r=e("./util");i.fromArray=function(t,n){var r=new i;for(var s=0,o=t.length;s<o;s++)r.add(t[s],n);return r},i.prototype.add=function(t,n){var i=this.has(t),s=this._array.length;(!i||n)&&this._array.push(t),i||(this._set[r.toSetString(t)]=s)},i.prototype.has=function(t){return Object.prototype.hasOwnProperty.call(this._set,r.toSetString(t))},i.prototype.indexOf=function(t){if(this.has(t))return this._set[r.toSetString(t)];throw new Error('"'+t+'" is not in the set.')},i.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i})},{"./util":42,amdefine:43}],36:[function(t,n,r){e(function(e,t,n){function a(e){return e<0?(-e<<1)+1:(e<<1)+0}function f(e){var t=(e&1)===1,n=e>>1;return t?-n:n}var r=e("./base64"),i=5,s=1<<i,o=s-1,u=s;t.encode=function(t){var n="",s,f=a(t);do s=f&o,f>>>=i,f>0&&(s|=u),n+=r.encode(s);while(f>0);return n},t.decode=function(t){var n=0,s=t.length,a=0,l=0,c,h;do{if(n>=s)throw new Error("Expected more digits in base 64 VLQ value.");h=r.decode(t.charAt(n++)),c=!!(h&u),h&=o,a+=h<<l,l+=i}while(c);return{value:f(a),rest:t.slice(n)}}})},{"./base64":37,amdefine:43}],37:[function(t,n,r){e(function(e,t,n){var r={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,t){r[e]=t,i[t]=e}),t.encode=function(t){if(t in i)return i[t];throw new TypeError("Must be between 0 and 63: "+t)},t.decode=function(t){if(t in r)return r[t];throw new TypeError("Not a valid base 64 digit: "+t)}})},{amdefine:43}],38:[function(t,n,r){e(function(e,t,n){function r(e,t,n,i,s){var o=Math.floor((t-e)/2)+e,u=s(n,i[o],!0);return u===0?i[o]:u>0?t-o>1?r(o,t,n,i,s):i[o]:o-e>1?r(e,o,n,i,s):e<0?null:i[e]}t.search=function(t,n,i){return n.length>0?r(-1,n.length,t,n,i):null}})},{amdefine:43}],39:[function(t,n,r){e(function(e,t,n){function u(e){var t=e;typeof e=="string"&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sources"),o=r.getArg(t,"names",[]),u=r.getArg(t,"sourceRoot",null),a=r.getArg(t,"sourcesContent",null),f=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);this._names=s.fromArray(o,!0),this._sources=s.fromArray(i,!0),this.sourceRoot=u,this.sourcesContent=a,this._mappings=f,this.file=l}var r=e("./util"),i=e("./binary-search"),s=e("./array-set").ArraySet,o=e("./base64-vlq");u.fromSourceMap=function(t){var n=Object.create(u.prototype);return n._names=s.fromArray(t._names.toArray(),!0),n._sources=s.fromArray(t._sources.toArray(),!0),n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n.__generatedMappings=t._mappings.slice().sort(r.compareByGeneratedPositions),n.__originalMappings=t._mappings.slice().sort(r.compareByOriginalPositions),n},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return this.sourceRoot?r.join(this.sourceRoot,e):e},this)}}),u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),u.prototype._parseMappings=function(t,n){var i=1,s=0,u=0,a=0,f=0,l=0,c=/^[,;]/,h=t,p,d;while(h.length>0)if(h.charAt(0)===";")i++,h=h.slice(1),s=0;else if(h.charAt(0)===",")h=h.slice(1);else{p={},p.generatedLine=i,d=o.decode(h),p.generatedColumn=s+d.value,s=p.generatedColumn,h=d.rest;if(h.length>0&&!c.test(h.charAt(0))){d=o.decode(h),p.source=this._sources.at(f+d.value),f+=d.value,h=d.rest;if(h.length===0||c.test(h.charAt(0)))throw new Error("Found a source, but no line and column");d=o.decode(h),p.originalLine=u+d.value,u=p.originalLine,p.originalLine+=1,h=d.rest;if(h.length===0||c.test(h.charAt(0)))throw new Error("Found a source and line, but no column");d=o.decode(h),p.originalColumn=a+d.value,a=p.originalColumn,h=d.rest,h.length>0&&!c.test(h.charAt(0))&&(d=o.decode(h),p.name=this._names.at(l+d.value),l+=d.value,h=d.rest)}this.__generatedMappings.push(p),typeof p.originalLine=="number"&&this.__originalMappings.push(p)}this.__originalMappings.sort(r.compareByOriginalPositions)},u.prototype._findMapping=function(t,n,r,s,o){if(t[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[r]);if(t[s]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[s]);return i.search(t,n,o)},u.prototype.originalPositionFor=function(t){var n={generatedLine:r.getArg(t,"line"),generatedColumn:r.getArg(t,"column")},i=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositions);if(i){var s=r.getArg(i,"source",null);return s&&this.sourceRoot&&(s=r.join(this.sourceRoot,s)),{source:s,line:r.getArg(i,"originalLine",null),column:r.getArg(i,"originalColumn",null),name:r.getArg(i,"name",null)}}return{source:null,line:null,column:null,name:null}},u.prototype.sourceContentFor=function(t){if(!this.sourcesContent)return null;this.sourceRoot&&(t=r.relative(this.sourceRoot,t));if(this._sources.has(t))return this.sourcesContent[this._sources.indexOf(t)];var n;if(this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var i=t.replace(/^file:\/\//,"");if(n.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||n.path=="/")&&this._sources.has("/"+t))return this.sourcesContent[this._sources.indexOf("/"+t)]}throw new Error('"'+t+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(t){var n={source:r.getArg(t,"source"),originalLine:r.getArg(t,"line"),originalColumn:r.getArg(t,"column")};this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source));var i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions);return i?{line:r.getArg(i,"generatedLine",null),column:r.getArg(i,"generatedColumn",null)}:{line:null,column:null}},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.prototype.eachMapping=function(t,n,i){var s=n||null,o=i||u.GENERATED_ORDER,a;switch(o){case u.GENERATED_ORDER:a=this._generatedMappings;break;case u.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var f=this.sourceRoot;a.map(function(e){var t=e.source;return t&&f&&(t=r.join(f,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(t,s)},t.SourceMapConsumer=u})},{"./array-set":35,"./base64-vlq":36,"./binary-search":38,"./util":42,amdefine:43}],40:[function(t,n,r){e(function(e,t,n){function o(e){this._file=i.getArg(e,"file"),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._sources=new s,this._names=new s,this._mappings=[],this._sourcesContents=null}var r=e("./base64-vlq"),i=e("./util"),s=e("./array-set").ArraySet;o.prototype._version=3,o.fromSourceMap=function(t){var n=t.sourceRoot,r=new o({file:t.file,sourceRoot:n});return t.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};e.source&&(t.source=e.source,n&&(t.source=i.relative(n,t.source)),t.original={line:e.originalLine,column:e.originalColumn},e.name&&(t.name=e.name)),r.addMapping(t)}),t.sources.forEach(function(e){var n=t.sourceContentFor(e);n&&r.setSourceContent(e,n)}),r},o.prototype.addMapping=function(t){var n=i.getArg(t,"generated"),r=i.getArg(t,"original",null),s=i.getArg(t,"source",null),o=i.getArg(t,"name",null);this._validateMapping(n,r,s,o),s&&!this._sources.has(s)&&this._sources.add(s),o&&!this._names.has(o)&&this._names.add(o),this._mappings.push({generatedLine:n.line,generatedColumn:n.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:s,name:o})},o.prototype.setSourceContent=function(t,n){var r=t;this._sourceRoot&&(r=i.relative(this._sourceRoot,r)),n!==null?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[i.toSetString(r)]=n):(delete this._sourcesContents[i.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(t,n){n||(n=t.file);var r=this._sourceRoot;r&&(n=i.relative(r,n));var o=new s,u=new s;this._mappings.forEach(function(e){if(e.source===n&&e.originalLine){var s=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});s.source!==null&&(r?e.source=i.relative(r,s.source):e.source=s.source,e.originalLine=s.line,e.originalColumn=s.column,s.name!==null&&e.name!==null&&(e.name=s.name))}var a=e.source;a&&!o.has(a)&&o.add(a);var f=e.name;f&&!u.has(f)&&u.add(f)},this),this._sources=o,this._names=u,t.sources.forEach(function(e){var n=t.sourceContentFor(e);n&&(r&&(e=i.relative(r,e)),this.setSourceContent(e,n))},this)},o.prototype._validateMapping=function(t,n,r,i){if(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!n&&!r&&!i)return;if(t&&"line"in t&&"column"in t&&n&&"line"in n&&"column"in n&&t.line>0&&t.column>=0&&n.line>0&&n.column>=0&&r)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:r,orginal:n,name:i}))},o.prototype._serializeMappings=function(){var t=0,n=1,s=0,o=0,u=0,a=0,f="",l;this._mappings.sort(i.compareByGeneratedPositions);for(var c=0,h=this._mappings.length;c<h;c++){l=this._mappings[c];if(l.generatedLine!==n){t=0;while(l.generatedLine!==n)f+=";",n++}else if(c>0){if(!i.compareByGeneratedPositions(l,this._mappings[c-1]))continue;f+=","}f+=r.encode(l.generatedColumn-t),t=l.generatedColumn,l.source&&(f+=r.encode(this._sources.indexOf(l.source)-a),a=this._sources.indexOf(l.source),f+=r.encode(l.originalLine-1-o),o=l.originalLine-1,f+=r.encode(l.originalColumn-s),s=l.originalColumn,l.name&&(f+=r.encode(this._names.indexOf(l.name)-u),u=this._names.indexOf(l.name)))}return f},o.prototype._generateSourcesContent=function(t,n){return t.map(function(e){if(!this._sourcesContents)return null;n&&(e=i.relative(n,e));var t=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,t)?this._sourcesContents[t]:null},this)},o.prototype.toJSON=function(){var t={version:this._version,file:this._file,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},o.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=o})},{"./array-set":35,"./base64-vlq":36,"./util":42,amdefine:43}],41:[function(t,n,r){e(function(e,t,n){function s(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=e===undefined?null:e,this.column=t===undefined?null:t,this.source=n===undefined?null:n,this.name=i===undefined?null:i,r!=null&&this.add(r)}var r=e("./source-map-generator").SourceMapGenerator,i=e("./util");s.fromStringWithSourceMap=function(t,n){function f(e,t){e===null||e.source===undefined?r.add(t):r.add(new s(e.originalLine,e.originalColumn,e.source,t,e.name))}var r=new s,i=t.split("\n"),o=1,u=0,a=null;return n.eachMapping(function(e){if(a===null){while(o<e.generatedLine)r.add(i.shift()+"\n"),o++;if(u<e.generatedColumn){var t=i[0];r.add(t.substr(0,e.generatedColumn)),i[0]=t.substr(e.generatedColumn),u=e.generatedColumn}}else if(o<e.generatedLine){var n="";do n+=i.shift()+"\n",o++,u=0;while(o<e.generatedLine);if(u<e.generatedColumn){var t=i[0];n+=t.substr(0,e.generatedColumn),i[0]=t.substr(e.generatedColumn),u=e.generatedColumn}f(a,n)}else{var t=i[0],n=t.substr(0,e.generatedColumn-u);i[0]=t.substr(e.generatedColumn-u),u=e.generatedColumn,f(a,n)}a=e},this),f(a,i.join("\n")),n.sources.forEach(function(e){var t=n.sourceContentFor(e);t&&r.setSourceContent(e,t)}),r},s.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(e){this.add(e)},this);else{if(!(t instanceof s||typeof t=="string"))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);t&&this.children.push(t)}return this},s.prototype.prepend=function(t){if(Array.isArray(t))for(var n=t.length-1;n>=0;n--)this.prepend(t[n]);else{if(!(t instanceof s||typeof t=="string"))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);this.children.unshift(t)}return this},s.prototype.walk=function(t){var n;for(var r=0,i=this.children.length;r<i;r++)n=this.children[r],n instanceof s?n.walk(t):n!==""&&t(n,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(t){var n,r,i=this.children.length;if(i>0){n=[];for(r=0;r<i-1;r++)n.push(this.children[r]),n.push(t);n.push(this.children[r]),this.children=n}return this},s.prototype.replaceRight=function(t,n){var r=this.children[this.children.length-1];return r instanceof s?r.replaceRight(t,n):typeof r=="string"?this.children[this.children.length-1]=r.replace(t,n):this.children.push("".replace(t,n)),this},s.prototype.setSourceContent=function(t,n){this.sourceContents[i.toSetString(t)]=n},s.prototype.walkSourceContents=function(t){for(var n=0,r=this.children.length;n<r;n++)this.children[n]instanceof s&&this.children[n].walkSourceContents(t);var o=Object.keys(this.sourceContents);for(var n=0,r=o.length;n<r;n++)t(i.fromSetString(o[n]),this.sourceContents[o[n]])},s.prototype.toString=function(){var t="";return this.walk(function(e){t+=e}),t},s.prototype.toStringWithSourceMap=function(t){var n={code:"",line:1,column:0},i=new r(t),s=!1,o=null,u=null,a=null,f=null;return this.walk(function(e,t){n.code+=e,t.source!==null&&t.line!==null&&t.column!==null?((o!==t.source||u!==t.line||a!==t.column||f!==t.name)&&i.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:n.line,column:n.column},name:t.name}),o=t.source,u=t.line,a=t.column,f=t.name,s=!0):s&&(i.addMapping({generated:{line:n.line,column:n.column}}),o=null,s=!1),e.split("").forEach(function(e){e==="\n"?(n.line++,n.column=0):n.column++})}),this.walkSourceContents(function(e,t){i.setSourceContent(e,t)}),{code:n.code,map:i}},t.SourceNode=s})},{"./source-map-generator":40,"./util":42,amdefine:43}],42:[function(t,n,r){e(function(e,t,n){function r(e,t,n){if(t in e)return e[t];if(arguments.length===3)return n;throw new Error('"'+t+'" is a required argument.')}function o(e){var t=e.match(i);return t?{scheme:t[1],auth:t[3],host:t[4],port:t[6],path:t[7]}:null}function u(e){var t=e.scheme+"://";return e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e,t){var n;return t.match(i)||t.match(s)?t:t.charAt(0)==="/"&&(n=o(e))?(n.path=t,u(n)):e.replace(/\/$/,"")+"/"+t}function f(e){return"$"+e}function l(e){return e.substr(1)}function c(e,t){e=e.replace(/\/$/,"");var n=o(e);return t.charAt(0)=="/"&&n&&n.path=="/"?t.slice(1):t.indexOf(e+"/")===0?t.substr(e.length+1):t}function h(e,t){var n=e||"",r=t||"";return(n>r)-(n<r)}function p(e,t,n){var r;return r=h(e.source,t.source),r?r:(r=e.originalLine-t.originalLine,r?r:(r=e.originalColumn-t.originalColumn,r||n?r:(r=h(e.name,t.name),r?r:(r=e.generatedLine-t.generatedLine,r?r:e.generatedColumn-t.generatedColumn))))}function d(e,t,n){var r;return r=e.generatedLine-t.generatedLine,r?r:(r=e.generatedColumn-t.generatedColumn,r||n?r:(r=h(e.source,t.source),r?r:(r=e.originalLine-t.originalLine,r?r:(r=e.originalColumn-t.originalColumn,r?r:h(e.name,t.name)))))}t.getArg=r;var i=/([\w+\-.]+):\/\/((\w+:\w+)@)?([\w.]+)?(:(\d+))?(\S+)?/,s=/^data:.+\,.+/;t.urlParse=o,t.urlGenerate=u,t.join=a,t.toSetString=f,t.fromSetString=l,t.relative=c,t.compareByOriginalPositions=p,t.compareByGeneratedPositions=d})},{amdefine:43}],43:[function(e,t,n){(function(n,r){function i(t,i){function c(e){var t,n;for(t=0;e[t];t+=1){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===1&&(e[2]===".."||e[0]===".."))break;t>0&&(e.splice(t-1,2),t-=2)}}}function h(e,t){var n;return e&&e.charAt(0)==="."&&t&&(n=t.split("/"),n=n.slice(0,n.length-1),n=n.concat(e.split("/")),c(n),e=n.join("/")),e}function p(e){return function(t){return h(t,e)}}function d(e){function t(t){o[e]=t}return t.fromText=function(e,t){throw new Error("amdefine does not implement load.fromText")},t}function v(e,n,s){var a,l,c,h;if(e)l=o[e]={},c={id:e,uri:r,exports:l},a=f(i,l,c,e);else{if(u)throw new Error("amdefine with no module ID cannot be called more than once per file.");u=!0,l=t.exports,c=t,a=f(i,l,c,t.id)}n&&(n=n.map(function(e){return a(e)})),typeof s=="function"?h=s.apply(c.exports,n):h=s,h!==undefined&&(c.exports=h,e&&(o[e]=c.exports))}function m(e,t,n){Array.isArray(e)?(n=t,t=e,e=undefined):typeof e!="string"&&(n=e,e=t=undefined),t&&!Array.isArray(t)&&(n=t,t=undefined),t||(t=["require","exports","module"]),e?s[e]=[e,t,n]:v(e,t,n)}var s={},o={},u=!1,a=e("path"),f,l;return f=function(e,t,r,i){function s(s,o){if(typeof s=="string")return l(e,t,r,s,i);s=s.map(function(n){return l(e,t,r,n,i)}),n.nextTick(function(){o.apply(null,s)})}return s.toUrl=function(e){return e.indexOf(".")===0?h(e,a.dirname(r.filename)):e},s},i=i||function(){return t.require.apply(t,arguments)},l=function(e,t,n,r,i){var u=r.indexOf("!"),a=r,c,m;if(u===-1){r=h(r,i);if(r==="require")return f(e,t,n,i);if(r==="exports")return t;if(r==="module")return n;if(o.hasOwnProperty(r))return o[r];if(s[r])return v.apply(null,s[r]),o[r];if(e)return e(a);throw new Error("No module with ID: "+r)}return c=r.substring(0,u),r=r.substring(u+1,r.length),m=l(e,t,n,c,i),m.normalize?r=m.normalize(r,p(i)):r=h(r,i),o[r]?o[r]:(m.load(r,f(e,t,n,i),d(r),{}),o[r])},m.require=function(e){if(o[e])return o[e];if(s[e])return v.apply(null,s[e]),o[e]},m.amd={},m}t.exports=i}).call(this,e("C:\\Users\\forbes.lindesay\\Documents\\GitHub\\jade\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js"),"/..\\node_modules\\uglify-js\\node_modules\\source-map\\node_modules\\amdefine\\amdefine.js")},{"C:\\Users\\forbes.lindesay\\Documents\\GitHub\\jade\\node_modules\\browserify\\node_modules\\insert-module-globals\\node_modules\\process\\browser.js":28,path:29}],44:[function(e,t,n){function o(e){var t=Object.create(null);for(var n=0;n<e.length;++n)t[e[n]]=!0;return t}function u(e,t){return Array.prototype.slice.call(e,t||0)}function a(e){return e.split("")}function f(e,t){for(var n=t.length;--n>=0;)if(t[n]==e)return!0;return!1}function l(e,t){for(var n=0,r=t.length;n<r;++n)if(e(t[n]))return t[n]}function c(e,t){if(t<=0)return"";if(t==1)return e;var n=c(e,t>>1);return n+=n,t&1&&(n+=e),n}function h(e,t){Error.call(this,e),this.msg=e,this.defs=t}function p(e,t,n){e===!0&&(e={});var r=e||{};if(n)for(var i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&h.croak("`"+i+"` is not a supported option",t);for(var i in t)t.hasOwnProperty(i)&&(r[i]=e&&e.hasOwnProperty(i)?e[i]:t[i]);return r}function d(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function v(){}function g(e,t){e.indexOf(t)<0&&e.push(t)}function y(e,t){return e.replace(/\{(.+?)\}/g,function(e,n){return t[n]})}function b(e,t){for(var n=e.length;--n>=0;)e[n]===t&&e.splice(n,1)}function w(e,t){function n(e,n){var r=[],i=0,s=0,o=0;while(i<e.length&&s<n.length)t(e[i],n[s])<=0?r[o++]=e[i++]:r[o++]=n[s++];return i<e.length&&r.push.apply(r,e.slice(i)),s<n.length&&r.push.apply(r,n.slice(s)),r}function r(e){if(e.length<=1)return e;var t=Math.floor(e.length/2),i=e.slice(0,t),s=e.slice(t);return i=r(i),s=r(s),n(i,s)}return e.length<2?e.slice():r(e)}function E(e,t){return e.filter(function(e){return t.indexOf(e)<0})}function S(e,t){return e.filter(function(e){return t.indexOf(e)>=0})}function x(e){function s(e){if(e.length==1)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}e instanceof Array||(e=e.split(" "));var t="",n=[];e:for(var r=0;r<e.length;++r){for(var i=0;i<n.length;++i)if(n[i][0].length==e[r].length){n[i].push(e[r]);continue e}n.push([e[r]])}if(n.length>3){n.sort(function(e,t){return t.length-e.length}),t+="switch(str.length){";for(var r=0;r<n.length;++r){var o=n[r];t+="case "+o[0].length+":",s(o)}t+="}"}else s(e);return new Function("str",t)}function T(e,t){for(var n=e.length;--n>=0;)if(!t(e[n]))return!1;return!0}function N(){this._values=Object.create(null),this._size=0}function C(e,t,n,r){arguments.length<4&&(r=L),t?t=t.split(/\s+/):t=[];var i=t;r&&r.PROPS&&(t=t.concat(r.PROPS));var s="return function AST_"+e+"(props){ if (props) { ";for(var o=t.length;--o>=0;)s+="this."+t[o]+" = props."+t[o]+";";var u=r&&new r;if(u&&u.initialize||n&&n.initialize)s+="this.initialize();";s+="}}";var a=(new Function(s))();u&&(a.prototype=u,a.BASE=r),r&&r.SUBCLASSES.push(a),a.prototype.CTOR=a,a.PROPS=t||null,a.SELF_PROPS=i,a.SUBCLASSES=[],e&&(a.prototype.TYPE=a.TYPE=e);if(n)for(o in n)n.hasOwnProperty(o)&&(/^\$/.test(o)?a[o.substr(1)]=n[o]:a.prototype[o]=n[o]);return a.DEFMETHOD=function(e,t){this.prototype[e]=t},a}function D(e,t){e.body instanceof A?e.body._walk(t):e.body.forEach(function(e){e._walk(t)})}function an(e){this.visit=e,this.stack=[]}function xn(e){return e>=97&&e<=122||e>=65&&e<=90||e>=170&&Sn.letter.test(String.fromCharCode(e))}function Tn(e){return e>=48&&e<=57}function Nn(e){return Tn(e)||xn(e)}function Cn(e){return Sn.non_spacing_mark.test(e)||Sn.space_combining_mark.test(e)}function kn(e){return Sn.connector_punctuation.test(e)}function Ln(e){return!cn(e)&&/^[a-z_$][a-z0-9_$]*$/i.test(e)}function An(e){return e==36||e==95||xn(e)}function On(e){var t=e.charCodeAt(0);return An(t)||Tn(t)||t==8204||t==8205||Cn(e)||kn(e)}function Mn(e){var t=e.length;if(t==0)return!1;if(!An(e.charCodeAt(0)))return!1;while(--t>=0)if(!On(e.charAt(t)))return!1;return!0}function _n(e){if(dn.test(e))return parseInt(e.substr(2),16);if(vn.test(e))return parseInt(e.substr(1),8);if(mn.test(e))return parseFloat(e)}function Dn(e,t,n,r){this.message=e,this.line=t,this.col=n,this.pos=r,this.stack=(new Error).stack}function Pn(e,t,n,r,i){throw new Dn(e,n,r,i)}function Hn(e,t,n){return e.type==t&&(n==null||e.value==n)}function jn(e,t,n){function i(){return r.text.charAt(r.pos)}function s(e,t){var n=r.text.charAt(r.pos++);if(e&&!n)throw Bn;return n=="\n"?(r.newline_before=r.newline_before||!t,++r.line,r.col=0):++r.col,n}function o(e){while(e-->0)s()}function u(e){return r.text.substr(r.pos,e.length)==e}function a(e,t){var n=r.text.indexOf(e,r.pos);if(t&&n==-1)throw Bn;return n}function f(){r.tokline=r.line,r.tokcol=r.col,r.tokpos=r.pos}function c(e,n,i){r.regex_allowed=e=="operator"&&!In(n)||e=="keyword"&&hn(n)||e=="punc"&&bn(n),l=e=="punc"&&n==".";var s={type:e,value:n,line:r.tokline,col:r.tokcol,pos:r.tokpos,endpos:r.pos,nlb:r.newline_before,file:t};if(!i){s.comments_before=r.comments_before,r.comments_before=[];for(var o=0,u=s.comments_before.length;o<u;o++)s.nlb=s.nlb||s.comments_before[o].nlb}return r.newline_before=!1,new k(s)}function h(){while(yn(i()))s()}function p(e){var t="",n,r=0;while((n=i())&&e(n,r++))t+=s();return t}function d(e){Pn(e,t,r.tokline,r.tokcol,r.tokpos)}function v(e){var t=!1,n=!1,r=!1,i=e==".",s=p(function(s,o){var u=s.charCodeAt(0);switch(u){case 120:case 88:return r?!1:r=!0;case 101:case 69:return r?!0:t?!1:t=n=!0;case 45:return n||o==0&&!e;case 43:return n;case n=!1,46:return!i&&!r&&!t?i=!0:!1}return Nn(u)});e&&(s=e+s);var o=_n(s);if(!isNaN(o))return c("num",o);d("Invalid syntax: "+s)}function m(e){var t=s(!0,e);switch(t.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"	";case 98:return"\b";case 118:return"";case 102:return"\f";case 48:return"\0";case 120:return String.fromCharCode(g(2));case 117:return String.fromCharCode(g(4));case 10:return"";default:return t}}function g(e){var t=0;for(;e>0;--e){var n=parseInt(s(!0),16);isNaN(n)&&d("Invalid hex-character pattern in string"),t=t<<4|n}return t}function b(e){var t=r.regex_allowed,n=a("\n"),i;return n==-1?(i=r.text.substr(r.pos),r.pos=r.text.length):(i=r.text.substring(r.pos,n),r.pos=n),r.comments_before.push(c(e,i,!0)),r.regex_allowed=t,A()}function E(){var e=!1,t="",n,r=!1,o;while((n=i())!=null)if(!e)if(n=="\\")r=e=!0,s();else{if(!On(n))break;t+=s()}else n!="u"&&d("Expecting UnicodeEscapeSequence -- uXXXX"),n=m(),On(n)||d("Unicode char: "+n.charCodeAt(0)+" is not valid in identifier"),t+=n,e=!1;return fn(t)&&r&&(o=t.charCodeAt(0).toString(16).toUpperCase(),t="\\u"+"0000".substr(o.length)+o+t.slice(1)),t}function x(e){function t(e){if(!i())return e;var n=e+i();return gn(n)?(s(),t(n)):e}return c("operator",t(e||s()))}function T(){s();switch(i()){case"/":return s(),b("comment1");case"*":return s(),w()}return r.regex_allowed?S(""):x("/")}function N(){return s(),Tn(i().charCodeAt(0))?v("."):c("punc",".")}function C(){var e=E();return l?c("name",e):ln(e)?c("atom",e):fn(e)?gn(e)?c("operator",e):c("keyword",e):c("name",e)}function L(e,t){return function(n){try{return t(n)}catch(r){if(r!==Bn)throw r;d(e)}}}function A(e){if(e!=null)return S(e);h(),f();if(n){if(u("<!--"))return o(4),b("comment3");if(u("-->")&&r.newline_before)return o(3),b("comment4")}var t=i();if(!t)return c("eof");var a=t.charCodeAt(0);switch(a){case 34:case 39:return y();case 46:return N();case 47:return T()}if(Tn(a))return v();if(wn(t))return c("punc",s());if(pn(t))return x();if(a==92||An(a))return C();d("Unexpected character '"+t+"'")}var r={text:e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/\uFEFF/g,""),filename:t,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[]},l=!1,y=L("Unterminated string constant",function(){var e=s(),t="";for(;;){var n=s(!0);if(n=="\\"){var r=0,i=null;n=p(function(e){if(e>="0"&&e<="7"){if(!i)return i=e,++r;if(i<="3"&&r<=2)return++r;if(i>="4"&&r<=1)return++r}return!1}),r>0?n=String.fromCharCode(parseInt(n,8)):n=m(!0)}else if(n==e)break;t+=n}return c("string",t)}),w=L("Unterminated multiline comment",function(){var e=r.regex_allowed,t=a("*/",!0),n=r.text.substring(r.pos,t),i=n.split("\n"),s=i.length;r.pos=t+2,r.line+=s-1,s>1?r.col=i[s-1].length:r.col+=i[s-1].length,r.col+=2;var o=r.newline_before=r.newline_before||n.indexOf("\n")>=0;return r.comments_before.push(c("comment2",n,!0)),r.regex_allowed=e,r.newline_before=o,A()}),S=L("Unterminated regular expression",function(e){var t=!1,n,r=!1;while(n=s(!0))if(t)e+="\\"+n,t=!1;else if(n=="[")r=!0,e+=n;else if(n=="]"&&r)r=!1,e+=n;else{if(n=="/"&&!r)break;n=="\\"?t=!0:e+=n}var i=E();return c("regexp",new RegExp(e,i))});return A.context=function(e){return e&&(r=e),r},A}function Wn(e,t){function r(e,t){return Hn(n.token,e,t)}function i(){return n.peeked||(n.peeked=n.input())}function s(){return n.prev=n.token,n.peeked?(n.token=n.peeked,n.peeked=null):n.token=n.input(),n.in_directives=n.in_directives&&(n.token.type=="string"||r("punc",";")),n.token}function o(){return n.prev}function u(e,t,r,i){var s=n.input.context();Pn(e,s.filename,t!=null?t:s.tokline,r!=null?r:s.tokcol,i!=null?i:s.tokpos)}function a(e,t){u(t,e.line,e.col)}function f(e){e==null&&(e=n.token),a(e,"Unexpected token: "+e.type+" ("+e.value+")")}function c(e,t){if(r(e,t))return s();a(n.token,"Unexpected token "+n.token.type+" «"+n.token.value+"»"+", expected "+e+" «"+t+"»")}function h(e){return c("punc",e)}function d(){return!t.strict&&(n.token.nlb||r("eof")||r("punc","}"))}function v(){r("punc",";")?s():d()||f()}function m(){h("(");var e=fn(!0);return h(")"),e}function g(e){return function(){var t=n.token,r=e(),i=o();return r.start=t,r.end=i,r}}function y(){if(r("operator","/")||r("operator","/="))n.peeked=null,n.token=n.input(n.token.value.substr(1))}function w(){var e=Bt(Wt);l(function(t){return t.name==e.name},n.labels)&&u("Label "+e.name+" defined twice"),h(":"),n.labels.push(e);var t=b();return n.labels.pop(),t instanceof I||e.references.forEach(function(t){t instanceof it&&(t=t.label.start,u("Continue label `"+e.name+"` refers to non-IterationStatement.",t.line,t.col,t.pos))}),new F({body:t,label:e})}function E(e){return new _({body:(e=fn(!0),v(),e)})}function S(e){var t=null,r;d()||(t=Bt(Vt,!0)),t!=null?(r=l(function(e){return e.name==t.name},n.labels),r||u("Undefined label "+t.name),t.thedef=r):n.in_loop==0&&u(e.TYPE+" not inside a loop or switch"),v();var i=new e({label:t});return r&&r.references.push(i),i}function x(){h("(");var e=null;if(!r("punc",";")){e=r("keyword","var")?(s(),j(!0)):fn(!0,!0);if(r("operator","in"))return e instanceof dt&&e.definitions.length>1&&u("Only one variable declaration allowed in for..in loop"),s(),N(e)}return T(e)}function T(e){h(";");var t=r("punc",";")?null:fn(!0);h(";");var n=r("punc",")")?null:fn(!0);return h(")"),new z({init:e,condition:t,step:n,body:ln(b)})}function N(e){var t=e instanceof dt?e.definitions[0].name:null,n=fn(!0);return h(")"),new W({init:e,name:t,object:n,body:ln(b)})}function k(){var e=m(),t=b(),n=null;return r("keyword","else")&&(s(),n=b()),new st({condition:e,body:t,alternative:n})}function L(){h("{");var e=[];while(!r("punc","}"))r("eof")&&f(),e.push(b());return s(),e}function A(){h("{");var e=[],t=null,i=null,u;while(!r("punc","}"))r("eof")&&f(),r("keyword","case")?(i&&(i.end=o()),t=[],i=new ft({start:(u=n.token,s(),u),expression:fn(!0),body:t}),e.push(i),h(":")):r("keyword","default")?(i&&(i.end=o()),t=[],i=new at({start:(u=n.token,s(),h(":"),u),body:t}),e.push(i)):(t||f(),t.push(b()));return i&&(i.end=o()),s(),e}function D(){var e=L(),t=null,i=null;if(r("keyword","catch")){var a=n.token;s(),h("(");var f=Bt(zt);h(")"),t=new ct({start:a,argname:f,body:L(),end:o()})}if(r("keyword","finally")){var a=n.token;s(),i=new ht({start:a,body:L(),end:o()})}return!t&&!i&&u("Missing catch/finally blocks"),new lt({body:e,bcatch:t,bfinally:i})}function P(e,t){var i=[];for(;;){i.push(new mt({start:n.token,name:Bt(t?It:Ft),value:r("operator","=")?(s(),fn(!1,e)):null,end:o()}));if(!r("punc",","))break;s()}return i}function J(){var e=n.token,t;switch(e.type){case"name":case"keyword":t=Mt(Xt);break;case"num":t=new Qt({start:e,end:e,value:e.value});break;case"string":t=new Kt({start:e,end:e,value:e.value});break;case"regexp":t=new Gt({start:e,end:e,value:e.value});break;case"atom":switch(e.value){case"false":t=new on({start:e,end:e});break;case"true":t=new un({start:e,end:e});break;case"null":t=new Zt({start:e,end:e})}}return s(),t}function Z(e,t,i){var o=!0,u=[];while(!r("punc",e)){o?o=!1:h(",");if(t&&r("punc",e))break;r("punc",",")&&i?u.push(new nn({start:n.token,end:n.token})):u.push(fn(!1))}return s(),u}function pt(){var e=n.token;s();switch(e.type){case"num":case"string":case"name":case"operator":case"keyword":case"atom":return e.value;default:f()}}function xt(){var e=n.token;s();switch(e.type){case"name":case"operator":case"keyword":case"atom":return e.value;default:f()}}function Mt(e){var t=n.token.value;return new(t=="this"?$t:e)({name:String(t),start:n.token,end:n.token})}function Bt(e,t){if(!r("name"))return t||u("Name expected"),null;var n=Mt(e);return s(),n}function Yt(e,t,n){return(t=="++"||t=="--")&&!sn(n)&&u("Invalid use of "+t+" operator"),new e({operator:t,expression:n})}function tn(e){return en(Jt(!0),0,e)}function sn(e){return t.strict?e instanceof $t?!1:e instanceof wt||e instanceof Ht:!0}function ln(e){++n.in_loop;var t=e();return--n.in_loop,t}t=p(t,{strict:!1,filename:null,toplevel:null,expression:!1,html5_comments:!0});var n={input:typeof e=="string"?jn(e,t.filename,t.html5_comments):e,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};n.token=s();var b=g(function(){var e;y();switch(n.token.type){case"string":var t=n.in_directives,a=E();if(t&&a.body instanceof Kt&&!r("punc",","))return new M({value:a.body.value});return a;case"num":case"regexp":case"operator":case"atom":return E();case"name":return Hn(i(),"punc",":")?w():E();case"punc":switch(n.token.value){case"{":return new H({start:n.token,body:L(),end:o()});case"[":case"(":return E();case";":return s(),new B;default:f()};case"keyword":switch(e=n.token.value,s(),e){case"break":return S(rt);case"continue":return S(it);case"debugger":return v(),new O;case"do":return new R({body:ln(b),condition:(c("keyword","while"),e=m(),v(),e)});case"while":return new U({condition:m(),body:ln(b)});case"for":return x();case"function":return C(G);case"if":return k();case"return":return n.in_function==0&&u("'return' outside of function"),new et({value:r("punc",";")?(s(),null):d()?null:(e=fn(!0),v(),e)});case"switch":return new ot({expression:m(),body:ln(A)});case"throw":return n.token.nlb&&u("Illegal newline after 'throw'"),new tt({value:(e=fn(!0),v(),e)});case"try":return D();case"var":return e=j(),v(),e;case"const":return e=q(),v(),e;case"with":return new X({expression:m(),body:b()});default:f()}}}),C=function(e){var t=e===G,i=r("name")?Bt(t?Rt:Ut):null;return t&&!i&&f(),h("("),new e({name:i,argnames:function(e,t){while(!r("punc",")"))e?e=!1:h(","),t.push(Bt(qt));return s(),t}(!0,[]),body:function(e,t){++n.in_function,n.in_directives=!0,n.in_loop=0,n.labels=[];var r=L();return--n.in_function,n.in_loop=e,n.labels=t,r}(n.in_loop,n.labels)})},j=function(e){return new dt({start:o(),definitions:P(e,!1),end:o()})},q=function(){return new vt({start:o(),definitions:P(!1,!0),end:o()})},V=function(){var e=n.token;c("operator","new");var t=Y(!1),i;return r("punc","(")?(s(),i=Z(")")):i=[],jt(new yt({start:e,expression:t,args:i,end:o()}),!0)},Y=function(e){if(r("operator","new"))return V();var t=n.token;if(r("punc")){switch(t.value){case"(":s();var i=fn(!0);return i.start=t,i.end=n.token,h(")"),jt(i,e);case"[":return jt(nt(),e);case"{":return jt(ut(),e)}f()}if(r("keyword","function")){s();var u=C(Q);return u.start=t,u.end=o(),jt(u,e)}if(zn[n.token.type])return jt(J(),e);f()},nt=g(function(){return h("["),new At({elements:Z("]",!t.strict,!0)})}),ut=g(function(){h("{");var e=!0,i=[];while(!r("punc","}")){e?e=!1:h(",");if(!t.strict&&r("punc","}"))break;var u=n.token,a=u.type,f=pt();if(a=="name"&&!r("punc",":")){if(f=="get"){i.push(new Pt({start:u,key:J(),value:C(K),end:o()}));continue}if(f=="set"){i.push(new Dt({start:u,key:J(),value:C(K),end:o()}));continue}}h(":"),i.push(new _t({start:u,key:f,value:fn(!1),end:o()}))}return s(),new Ot({properties:i})}),jt=function(e,t){var n=e.start;if(r("punc","."))return s(),jt(new Et({start:n,expression:e,property:xt(),end:o()}),t);if(r("punc","[")){s();var i=fn(!0);return h("]"),jt(new St({start:n,expression:e,property:i,end:o()}),t)}return t&&r("punc","(")?(s(),jt(new gt({start:n,expression:e,args:Z(")"),end:o()}),!0)):e},Jt=function(e){var t=n.token;if(r("operator")&&Fn(t.value)){s(),y();var i=Yt(Tt,t.value,Jt(e));return i.start=t,i.end=o(),i}var u=Y(e);while(r("operator")&&In(n.token.value)&&!n.token.nlb)u=Yt(Nt,n.token.value,u),u.start=t,u.end=n.token,s();return u},en=function(e,t,i){var o=r("operator")?n.token.value:null;o=="in"&&i&&(o=null);var u=o!=null?Rn[o]:null;if(u!=null&&u>t){s();var a=en(Jt(!0),u,i);return en(new Ct({start:e.start,left:e,operator:o,right:a,end:a.end}),t,i)}return e},rn=function(e){var t=n.token,i=tn(e);if(r("operator","?")){s();var u=fn(!1);return h(":"),new kt({start:t,condition:i,consequent:u,alternative:fn(!1,e),end:o()})}return i},an=function(e){var t=n.token,i=rn(e),a=n.token.value;if(r("operator")&&qn(a)){if(sn(i))return s(),new Lt({start:t,left:i,operator:a,right:an(e),end:o()});u("Invalid assignment")}return i},fn=function(e,t){var o=n.token,u=an(t);return e&&r("punc",",")?(s(),new bt({start:o,car:u,cdr:fn(!0,t),end:i()})):u};return t.expression?fn(!0):function(){var e=n.token,i=[];while(!r("eof"))i.push(b());var s=o(),u=t.toplevel;return u?(u.body=u.body.concat(i),u.end=s):u=new $({start:e,body:i,end:s}),u}()}function Xn(e,t){an.call(this),this.before=e,this.after=t}function Vn(e,t,n){this.name=n.name,this.orig=[n],this.scope=e,this.references=[],this.global=!1,this.mangled_name=null,this.undeclared=!1,this.constant=!1,this.index=t}function Jn(e){function o(e,t){return e.replace(/[\u0080-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){while(n.length<2)n="0"+n;return"\\x"+n}while(n.length<4)n="0"+n;return"\\u"+n})}function u(t){var n=0,r=0;return t=t.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0]/g,function(e){switch(e){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':return++n,'"';case"'":return++r,"'";case"\0":return"\\x00"}return e}),e.ascii_only&&(t=o(t)),n>r?"'"+t.replace(/\x27/g,"\\'")+"'":'"'+t.replace(/\x22/g,'\\"')+'"'}function a(t){var n=u(t);return e.inline_script&&(n=n.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")),n}function f(t){return t=t.toString(),e.ascii_only&&(t=o(t,!0)),t}function l(n){return c(" ",e.indent_start+t-n*e.indent_level)}function g(){return m.charAt(m.length-1)}function y(){e.max_line_len&&n>e.max_line_len&&w("\n")}function w(t){t=String(t);var o=t.charAt(0);d&&((!o||";}".indexOf(o)<0)&&!/[;]$/.test(m)&&(e.semicolons||b(o)?(s+=";",n++,i++):(s+="\n",i++,r++,n=0),e.beautify||(h=!1)),d=!1,y());if(!e.beautify&&e.preserve_line&&j[j.length-1]){var u=j[j.length-1].start.line;while(r<u)s+="\n",i++,r++,n=0,h=!1}if(h){var a=g();if(On(a)&&(On(o)||o=="\\")||/^[\+\-\/]$/.test(o)&&o==a)s+=" ",n++,i++;h=!1}var f=t.split(/\r?\n/),l=f.length-1;r+=l,l==0?n+=f[l].length:n=f[l].length,i+=t.length,m=t,s+=t}function k(){d=!1,w(";")}function A(){return t+e.indent_level}function O(e){var t;return w("{"),N(),T(A(),function(){t=e()}),S(),w("}"),t}function M(e){w("(");var t=e();return w(")"),t}function _(e){w("[");var t=e();return w("]"),t}function D(){w(","),E()}function P(){w(":"),e.space_colon&&E()}function B(){return s}e=p(e,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!0,ascii_only:!1,unescape_regexps:!1,inline_script:!1,width:80,max_line_len:32e3,beautify:!1,source_map:null,bracketize:!1,semicolons:!0,comments:!1,preserve_line:!1,screw_ie8:!1,preamble:null},!0);var t=0,n=0,r=1,i=0,s="",h=!1,d=!1,m=null,b=x("( [ + * / - , ."),E=e.beautify?function(){w(" ")}:function(){h=!0},S=e.beautify?function(t){e.beautify&&w(l(t?.5:0))}:v,T=e.beautify?function(e,n){e===!0&&(e=A());var r=t;t=e;var i=n();return t=r,i}:function(e,t){return t()},N=e.beautify?function(){w("\n")}:v,C=e.beautify?function(){w(";")}:function(){d=!0},H=e.source_map?function(t,i){try{t&&e.source_map.add(t.file||"?",r,n,t.line,t.col,!i&&t.type=="name"?t.value:i)}catch(s){L.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:t.file,line:t.line,col:t.col,cline:r,ccol:n,name:i||""})}}:v;e.preamble&&w(e.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"));var j=[];return{get:B,toString:B,indent:S,indentation:function(){return t},current_width:function(){return n-t},should_break:function(){return e.width&&this.current_width()>=e.width},newline:N,print:w,space:E,comma:D,colon:P,last:function(){return m},semicolon:C,force_semicolon:k,to_ascii:o,print_name:function(e){w(f(e))},print_string:function(e){w(a(e))},next_indent:A,with_indent:T,with_block:O,with_parens:M,with_square:_,add_mapping:H,option:function(t){return e[t]},line:function(){return r},col:function(){return n},pos:function(){return i},push_node:function(e){j.push(e)},pop_node:function(){return j.pop()},stack:function(){return j},parent:function(e){return j[j.length-2-(e||0)]}}}function Kn(e,t){if(!(this instanceof Kn))return new Kn(e,t);Xn.call(this,this.before,this.after),this.options=p(e,{sequences:!t,properties:!t,dead_code:!t,drop_debugger:!t,unsafe:!1,unsafe_comps:!1,conditionals:!t,comparisons:!t,evaluate:!t,booleans:!t,loops:!t,unused:!t,hoist_funs:!t,hoist_vars:!1,if_return:!t,join_vars:!t,cascade:!t,side_effects:!t,pure_getters:!1,pure_funcs:null,negate_iife:!t,screw_ie8:!1,drop_console:!1,angular:!1,warnings:!0,global_defs:{}},!0)}function Qn(e){function r(r,i,s,o,u,a){if(n){var f=n.originalPositionFor({line:o,column:u});r=f.source,o=f.line,u=f.column,a=f.name}t.addMapping({generated:{line:i+e.dest_line_diff,column:s},original:{line:o+e.orig_line_diff,column:u},source:r,name:a})}e=p(e,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var t=new i.SourceMapGenerator({file:e.file,sourceRoot:e.root}),n=e.orig&&new i.SourceMapConsumer(e.orig);return{add:r,get:function(){return t},toString:function(){return t.toString()}}}var r=e("util"),i=e("source-map"),s=n;h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.croak=function(e,t){throw new h(e,t)};var m=function(){function e(e,s,o){function l(){var l=s(e[f],f),c=l instanceof i;return c&&(l=l.v),l instanceof n?(l=l.v,l instanceof r?a.push.apply(a,o?l.v.slice().reverse():l.v):a.push(l)):l!==t&&(l instanceof r?u.push.apply(u,o?l.v.slice().reverse():l.v):u.push(l)),c}var u=[],a=[],f;if(e instanceof Array){if(o){for(f=e.length;--f>=0;)if(l())break;u.reverse(),a.reverse()}else for(f=0;f<e.length;++f)if(l())break}else for(f in e)if(e.hasOwnProperty(f)&&l())break;return a.concat(u)}function n(e){this.v=e}function r(e){this.v=e}function i(e){this.v=e}e.at_top=function(e){return new n(e)},e.splice=function(e){return new r(e)},e.last=function(e){return new i(e)};var t=e.skip={};return e}();N.prototype={set:function(e,t){return this.has(e)||++this._size,this._values["$"+e]=t,this},add:function(e,t){return this.has(e)?this.get(e).push(t):this.set(e,[t]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},each:function(e){for(var t in this._values)e(this._values[t],t.substr(1))},size:function(){return this._size},map:function(e){var t=[];for(var n in this._values)t.push(e(this._values[n],n.substr(1)));return t}};var k=C("Token","type value line col pos endpos nlb comments_before file",{},null),L=C("Node","start end",{clone:function(){return new this.CTOR(this)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)}},null);L.warn_function=null,L.warn=function(e,t){L.warn_function&&L.warn_function(y(e,t))};var A=C("Statement",null,{$documentation:"Base class of all statements"}),O=C("Debugger",null,{$documentation:"Represents a debugger statement"},A),M=C("Directive","value scope",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects"}},A),_=C("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},A),P=C("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){D(this,e)})}},A),H=C("BlockStatement",null,{$documentation:"A block statement"},P),B=C("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(e){return e._visit(this)}},A),j=C("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},A),F=C("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})}},j),I=C("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},j),q=C("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})}},I),R=C("Do",null,{$documentation:"A `do` statement"},q),U=C("While",null,{$documentation:"A `while` statement"},q),z=C("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})}},I),W=C("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})}},I),X=C("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})}},j),V=C("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},P),$=C("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_enclose:function(e){var t=this,n=[],r=[];e.forEach(function(e){var t=e.split(":");n.push(t[0]),r.push(t[1])});var i="(function("+r.join(",")+"){ '$ORIG'; })("+n.join(",")+")";return i=Wn(i),i=i.transform(new Xn(function(n){if(n instanceof M&&n.value=="$ORIG")return m.splice(t.body)})),i},wrap_commonjs:function(e,t){var n=this,r=[];t&&(n.figure_out_scope(),n.walk(new an(function(e){e instanceof jt&&e.definition().global&&(l(function(t){return t.name==e.name},r)||r.push(e))})));var i="(function(exports, global){ global['"+e+"'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))";return i=Wn(i),i=i.transform(new Xn(function(t){if(t instanceof _){t=t.body;if(t instanceof Kt)switch(t.getValue()){case"$ORIG":return m.splice(n.body);case"$EXPORTS":var i=[];return r.forEach(function(e){i.push(new _({body:new Lt({left:new St({expression:new Xt({name:"exports"}),property:new Kt({value:e.name})}),operator:"=",right:new Xt(e)})}))}),m.splice(i)}}})),i}},V),J=C("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e),this.argnames.forEach(function(t){t._walk(e)}),D(this,e)})}},V),K=C("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},J),Q=C("Function",null,{$documentation:"A function expression"},J),G=C("Defun",null,{$documentation:"A function definition"},J),Y=C("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},A),Z=C("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})}},Y),et=C("Return",null,{$documentation:"A `return` statement"},Z),tt=C("Throw",null,{$documentation:"A `throw` statement"},Z),nt=C("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})}},Y),rt=C("Break",null,{$documentation:"A `break` statement"},nt),it=C("Continue",null,{$documentation:"A `continue` statement"},nt),st=C("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})}},j),ot=C("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),D(this,e)})}},P),ut=C("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},P),at=C("Default",null,{$documentation:"A `default` switch branch"},ut),ft=C("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),D(this,e)})}},ut),lt=C("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){D(this,e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})}},P),ct=C("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname._walk(e),D(this,e)})}},P),ht=C("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},P),pt=C("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(e){return e._visit(this,function(){this.definitions.forEach(function(t){t._walk(e)})})}},A),dt=C("Var",null,{$documentation:"A `var` statement"},pt),vt=C("Const",null,{$documentation:"A `const` statement"},pt),mt=C("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})}}),gt=C("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.args.forEach(function(t){t._walk(e)})})}}),yt=C("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},gt),bt=C("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(e,t){var n=new bt(e);return n.car=e,n.cdr=t,n},$from_array:function(e){if(e.length==0)return null;if(e.length==1)return e[0].clone();var t=null;for(var n=e.length;--n>=0;)t=bt.cons(e[n],t);var r=t;while(r){if(r.cdr&&!r.cdr.cdr){r.cdr=r.cdr.car;break}r=r.cdr}return t},to_array:function(){var e=this,t=[];while(e){t.push(e.car);if(!(!e.cdr||e.cdr instanceof bt)){t.push(e.cdr);break}e=e.cdr}return t},add:function(e){var t=this;while(t){if(!(t.cdr instanceof bt)){var n=bt.cons(t.cdr,e);return t.cdr=n}t=t.cdr}},_walk:function(e){return e._visit(this,function(){this.car._walk(e),this.cdr&&this.cdr._walk(e)})}}),wt=C("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),Et=C("Dot",null,{$documentation:"A dotted property access expression",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}},wt),St=C("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})}},wt),xt=C("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),Tt=C("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},xt),Nt=C("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},xt),Ct=C("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})}}),kt=C("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})}}),Lt=C("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},Ct),At=C("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(e){return e._visit(this,function(){this.elements.forEach(function(t){t._walk(e)})})}}),Ot=C("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(e){return e._visit(this,function(){this.properties.forEach(function(t){t._walk(e)})})}}),Mt=C("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",value:"[AST_Node] property value.  For setters and getters this is an AST_Function."},_walk:function(e){return e._visit(this,function(){this.value._walk(e)})}}),_t=C("ObjectKeyVal",null,{$documentation:"A key: value object property"},Mt),Dt=C("ObjectSetter",null,{$documentation:"An object setter property"},Mt),Pt=C("ObjectGetter",null,{$documentation:"An object getter property"},Mt),Ht=C("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),Bt=C("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},Ht),jt=C("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",$propdoc:{init:"[AST_Node*/S] array of initializers for this declaration."}},Ht),Ft=C("SymbolVar",null,{$documentation:"Symbol defining a variable"},jt),It=C("SymbolConst",null,{$documentation:"A constant declaration"},jt),qt=C("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Ft),Rt=C("SymbolDefun",null,{$documentation:"Symbol defining a function"},jt),Ut=C("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},jt),zt=C("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},jt),Wt=C("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},Ht),Xt=C("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},Ht),Vt=C("LabelRef",null,{$documentation:"Reference to a label symbol"},Ht),$t=C("This",null,{$documentation:"The `this` symbol"},Ht),Jt=C("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),Kt=C("String","value",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string"}},Jt),Qt=C("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"}},Jt),Gt=C("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},Jt),Yt=C("Atom",null,{$documentation:"Base class for atoms"},Jt),Zt=C("Null",null,{$documentation:"The `null` atom",value:null},Yt),en=C("NaN",null,{$documentation:"The impossible value",value:0/0},Yt),tn=C("Undefined",null,{$documentation:"The `undefined` value",value:function(){}()},Yt),nn=C("Hole",null,{$documentation:"A hole in an array",value:function(){}()},Yt),rn=C("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},Yt),sn=C("Boolean",null,{$documentation:"Base class for booleans"},Yt),on=C("False",null,{$documentation:"The `false` atom",value:!1},sn),un=C("True",null,{$documentation:"The `true` atom",value:!0},sn);an.prototype={_visit:function(e,t){this.stack.push(e);var n=this.visit(e,t?function(){t.call(e)}:v);return!n&&t&&t.call(e),this.stack.pop(),n},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){this.stack.push(e)},pop:function(){return this.stack.pop()},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){var t=this.stack;for(var n=t.length;--n>=0;){var r=t[n];if(r instanceof e)return r}},has_directive:function(e){return this.find_parent(V).has_directive(e)},in_boolean_context:function(){var e=this.stack,t=e.length,n=e[--t];while(t>0){var r=e[--t];if(r instanceof st&&r.condition===n||r instanceof kt&&r.condition===n||r instanceof q&&r.condition===n||r instanceof z&&r.condition===n||r instanceof Tt&&r.operator=="!"&&r.expression===n)return!0;if(!(r instanceof Ct)||r.operator!="&&"&&r.operator!="||")return!1;n=r}},loopcontrol_target:function(e){var t=this.stack;if(e)for(var n=t.length;--n>=0;){var r=t[n];if(r instanceof F&&r.label.name==e.name)return r.body}else for(var n=t.length;--n>=0;){var r=t[n];if(r instanceof ot||r instanceof I)return r}}};var fn="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",ln="false null true",cn="abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield "+ln+" "+fn,hn="return new delete throw else case";fn=x(fn),cn=x(cn),hn=x(hn),ln=x(ln);var pn=x(a("+-*&%=<>!?|~^")),dn=/^0x[0-9a-f]+$/i,vn=/^0[0-7]+$/,mn=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,gn=x(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),yn=x(a("  \n\r	\f​᠎             　")),bn=x(a("[{(,.;:")),wn=x(a("[]{}(),;:")),En=x(a("gmsiy")),Sn={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};Dn.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")"+"\n\n"+this.stack};var Bn={},Fn=x(["typeof","void","delete","--","++","!","~","-","+"]),In=x(["--","++"]),qn=x(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),Rn=function(e,t){for(var n=0;n<e.length;++n){var r=e[n];for(var i=0;i<r.length;++i)t[r[i]]=n+1}return t}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),Un=o(["for","do","while","switch"]),zn=o(["atom","num","string","regexp","name"]);Xn.prototype=new an,function(e){function t(t,n){t.DEFMETHOD("transform",function(t,r){var i,s;return t.push(this),t.before&&(i=t.before(this,n,r)),i===e&&(t.after?(t.stack[t.stack.length-1]=i=this.clone(),n(i,t),s=t.after(i,r),s!==e&&(i=s)):(i=this,n(i,t))),t.pop(),i})}function n(e,t){return m(e,function(e){return e.transform(t,!0)})}t(L,v),t(F,function(e,t){e.label=e.label.transform(t),e.body=e.body.transform(t)}),t(_,function(e,t){e.body=e.body.transform(t)}),t(P,function(e,t){e.body=n(e.body,t)}),t(q,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t)}),t(z,function(e,t){e.init&&(e.init=e.init.transform(t)),e.condition&&(e.condition=e.condition.transform(t)),e.step&&(e.step=e.step.transform(t)),e.body=e.body.transform(t)}),t(W,function(e,t){e.init=e.init.transform(t),e.object=e.object.transform(t),e.body=e.body.transform(t)}),t(X,function(e,t){e.expression=e.expression.transform(t),e.body=e.body.transform(t)}),t(Z,function(e,t){e.value&&(e.value=e.value.transform(t))}),t(nt,function(e,t){e.label&&(e.label=e.label.transform(t))}),t(st,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t),e.alternative&&(e.alternative=e.alternative.transform(t))}),t(ot,function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)}),t(ft,function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)}),t(lt,function(e,t){e.body=n(e.body,t),e.bcatch&&(e.bcatch=e.bcatch.transform(t)),e.bfinally&&(e.bfinally=e.bfinally.transform(t))}),t(ct,function(e,t){e.argname=e.argname.transform(t),e.body=n(e.body,t)}),t(pt,function(e,t){e.definitions=n(e.definitions,t)}),t(mt,function(e,t){e.name=e.name.transform(t),e.value&&(e.value=e.value.transform(t))}),t(J,function(e,t){e.name&&(e.name=e.name.transform(t)),e.argnames=n(e.argnames,t),e.body=n(e.body,t)}),t(gt,function(e,t){e.expression=e.expression.transform(t),e.args=n(e.args,t)}),t(bt,function(e,t){e.car=e.car.transform(t),e.cdr=e.cdr.transform(t)}),t(Et,function(e,t){e.expression=e.expression.transform(t)}),t(St,function(e,t){e.expression=e.expression.transform(t),e.property=e.property.transform(t)}),t(xt,function(e,t){e.expression=e.expression.transform(t)}),t(Ct,function(e,t){e.left=e.left.transform(t),e.right=e.right.transform(t)}),t(kt,function(e,t){e.condition=e.condition.transform(t),e.consequent=e.consequent.transform(t),e.alternative=e.alternative.transform(t)}),t(At,function(e,t){e.elements=n(e.elements,t)}),t(Ot,function(e,t){e.properties=n(e.properties,t)}),t(Mt,function(e,t){e.value=e.value.transform(t)})}(),Vn.prototype={unmangleable:function(e){return this.global&&(!e||!e.toplevel)||this.undeclared||(!e||!e.eval)&&(this.scope.uses_eval||this.scope.uses_with)},mangle:function(e){if(!this.mangled_name&&!this.unmangleable(e)){var t=this.scope;!e.screw_ie8&&this.orig[0]instanceof Ut&&(t=t.parent_scope),this.mangled_name=t.next_mangled(e,this)}}},$.DEFMETHOD("figure_out_scope",function(e){e=p(e,{screw_ie8:!1});var t=this,n=t.parent_scope=null,r=null,i=0,s=new an(function(t,o){if(e.screw_ie8&&t instanceof ct){var u=n;return n=new V(t),n.init_scope_vars(i),n.parent_scope=u,o(),n=u,!0}if(t instanceof V){t.init_scope_vars(i);var u=t.parent_scope=n,a=r;return r=n=t,++i,o(),--i,n=u,r=a,!0}if(t instanceof M)return t.scope=n,g(n.directives,t.value),!0;if(t instanceof X){for(var f=n;f;f=f.parent_scope)f.uses_with=!0;return}t instanceof Ht&&(t.scope=n);if(t instanceof Ut)r.def_function(t);else if(t instanceof Rt)(t.scope=r.parent_scope).def_function(t);else if(t instanceof Ft||t instanceof It){var l=r.def_variable(t);l.constant=t instanceof It,l.init=s.parent().value}else t instanceof zt&&(e.screw_ie8?n:r).def_variable(t)});t.walk(s);var o=null,u=t.globals=new N,s=new an(function(e,n){if(e instanceof J){var r=o;return o=e,n(),o=r,!0}if(e instanceof Xt){var i=e.name,a=e.scope.find_variable(i);if(!a){var f;u.has(i)?f=u.get(i):(f=new Vn(t,u.size(),e),f.undeclared=!0,f.global=!0,u.set(i,f)),e.thedef=f;if(i=="eval"&&s.parent()instanceof gt)for(var l=e.scope;l&&!l.uses_eval;l=l.parent_scope)l.uses_eval=!0;o&&i=="arguments"&&(o.uses_arguments=!0)}else e.thedef=a;return e.reference(),!0}});t.walk(s)}),V.DEFMETHOD("init_scope_vars",function(e){this.directives=[],this.variables=new N,this.functions=new N,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=null,this.enclosed=[],this.cname=-1,this.nesting=e}),V.DEFMETHOD("strict",function(){return this.has_directive("use strict")}),J.DEFMETHOD("init_scope_vars",function(){V.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1}),Xt.DEFMETHOD("reference",function(){var e=this.definition();e.references.push(this);var t=this.scope;while(t){g(t.enclosed,e);if(t===e.scope)break;t=t.parent_scope}this.frame=this.scope.nesting-e.scope.nesting}),V.DEFMETHOD("find_variable",function(e){return e instanceof Ht&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),V.DEFMETHOD("has_directive",function(e){return this.parent_scope&&this.parent_scope.has_directive(e)||(this.directives.indexOf(e)>=0?this:null)}),V.DEFMETHOD("def_function",function(e){this.functions.set(e.name,this.def_variable(e))}),V.DEFMETHOD("def_variable",function(e){var t;return this.variables.has(e.name)?(t=this.variables.get(e.name),t.orig.push(e)):(t=new Vn(this,this.variables.size(),e),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),V.DEFMETHOD("next_mangled",function(e){var t=this.enclosed;e:for(;;){var n=$n(++this.cname);if(!Ln(n))continue;if(e.except.indexOf(n)>=0)continue;for(var r=t.length;--r>=0;){var i=t[r],s=i.mangled_name||i.unmangleable(e)&&i.name;if(n==s)continue e}return n}}),Q.DEFMETHOD("next_mangled",function(e,t){var n=t.orig[0]instanceof qt&&this.name&&this.name.definition();for(;;){var r=J.prototype.next_mangled.call(this,e,t);if(!n||n.mangled_name!=r)return r}}),V.DEFMETHOD("references",function(e){return e instanceof Ht&&(e=e.definition()),this.enclosed.indexOf(e)<0?null:e}),Ht.DEFMETHOD("unmangleable",function(e){return this.definition().unmangleable(e)}),Bt.DEFMETHOD("unmangleable",function(){return!0}),Wt.DEFMETHOD("unmangleable",function(){return!1}),Ht.DEFMETHOD("unreferenced",function(){return this.definition().references.length==0&&!this.scope.uses_eval&&!this.scope.uses_with}),Ht.DEFMETHOD("undeclared",function(){return this.definition().undeclared}),Vt.DEFMETHOD("undeclared",function(){return!1}),Wt.DEFMETHOD("undeclared",function(){return!1}),Ht.DEFMETHOD("definition",function(){return this.thedef}),Ht.DEFMETHOD("global",function(){return this.definition().global}),$.DEFMETHOD("_default_mangler_options",function(e){return p(e,{except:[],eval:!1,sort:!1,toplevel:!1,screw_ie8:!1})}),$.DEFMETHOD("mangle_names",function(e){e=this._default_mangler_options(e);var t=-1,n=[],r=new an(function(i,s){if(i instanceof F){var o=t;return s(),t=o,!0}if(i instanceof V){var u=r.parent(),a=[];i.variables.each(function(t){e.except.indexOf(t.name)<0&&a.push(t)}),e.sort&&a.sort(function(e,t){return t.references.length-e.references.length}),n.push.apply(n,a);return}if(i instanceof Wt){var f;do f=$n(++t);while(!Ln(f));return i.mangled_name=f,!0}});this.walk(r),n.forEach(function(t){t.mangle(e)})}),$.DEFMETHOD("compute_char_frequency",function(e){e=this._default_mangler_options(e);var t=new an(function(t){t instanceof Jt?$n.consider(t.print_to_string()):t instanceof et?$n.consider("return"):t instanceof tt?$n.consider("throw"):t instanceof it?$n.consider("continue"):t instanceof rt?$n.consider("break"):t instanceof O?$n.consider("debugger"):t instanceof M?$n.consider(t.value):t instanceof U?$n.consider("while"):t instanceof R?$n.consider("do while"):t instanceof st?($n.consider("if"),t.alternative&&$n.consider("else")):t instanceof dt?$n.consider("var"):t instanceof vt?$n.consider("const"):t instanceof J?$n.consider("function"):t instanceof z?$n.consider("for"):t instanceof W?$n.consider("for in"):t instanceof ot?$n.consider("switch"):t instanceof ft?$n.consider("case"):t instanceof at?$n.consider("default"):t instanceof X?$n.consider("with"):t instanceof Dt?$n.consider("set"+t.key):t instanceof Pt?$n.consider("get"+t.key):t instanceof _t?$n.consider(t.key):t instanceof yt?$n.consider("new"):t instanceof $t?$n.consider("this"):t instanceof lt?$n.consider("try"):t instanceof ct?$n.consider("catch"):t instanceof ht?$n.consider("finally"):t instanceof Ht&&t.unmangleable(e)?$n.consider(t.name):t instanceof xt||t instanceof Ct?$n.consider(t.operator):t instanceof Et&&$n.consider(t.property)});this.walk(t),$n.sort()});var $n=function(){function r(){n=Object.create(null),t=e.split("").map(function(e){return e.charCodeAt(0)}),t.forEach(function(e){n[e]=0})}function i(e){var n="",r=54;do n+=String.fromCharCode(t[e%r]),e=Math.floor(e/r),r=64;while(e>0);return n}var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789",t,n;return i.consider=function(e){for(var t=e.length;--t>=0;){var r=e.charCodeAt(t);r in n&&++n[r]}},i.sort=function(){t=w(t,function(e,t){return Tn(e)&&!Tn(t)?1:Tn(t)&&!Tn(e)?-1:n[t]-n[e]})},i.reset=r,r(),i.get=function(){return t},i.freq=function(){return n},i}();$.DEFMETHOD("scope_warnings",function(e){e=p(e,{undeclared:!1,unreferenced:!0,assign_to_global:!0,func_arguments:!0,nested_defuns:!0,eval:!0});var t=new an(function(n){e.undeclared&&n instanceof Xt&&n.undeclared()&&L.warn("Undeclared symbol: {name} [{file}:{line},{col}]",{name:n.name,file:n.start.file,line:n.start.line,col:n.start.col});if(e.assign_to_global){var r=null;n instanceof Lt&&n.left instanceof Xt?r=n.left:n instanceof W&&n.init instanceof Xt&&(r=n.init),r&&(r.undeclared()||r.global()&&r.scope!==r.definition().scope)&&L.warn("{msg}: {name} [{file}:{line},{col}]",{msg:r.undeclared()?"Accidental global?":"Assignment to global",name:r.name,file:r.start.file,line:r.start.line,col:r.start.col})}e.eval&&n instanceof Xt&&n.undeclared()&&n.name=="eval"&&L.warn("Eval is used [{file}:{line},{col}]",n.start),e.unreferenced&&(n instanceof jt||n instanceof Wt)&&n.unreferenced()&&L.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]",{type:n instanceof Wt?"Label":"Symbol",name:n.name,file:n.start.file,line:n.start.line,col:n.start.col}),e.func_arguments&&n instanceof J&&n.uses_arguments&&L.warn("arguments used in function {name} [{file}:{line},{col}]",{name:n.name?n.name.name:"anonymous",file:n.start.file,line:n.start.line,col:n.start.col}),e.nested_defuns&&n instanceof G&&!(t.parent()instanceof V)&&L.warn('Function {name} declared in nested statement "{type}" [{file}:{line},{col}]',{name:n.name.name,type:t.parent().TYPE,file:n.start.file,line:n.start.line,col:n.start.col})});this.walk(t)}),function(){function e(e,t){e.DEFMETHOD("_codegen",t)}function t(e,t){e.DEFMETHOD("needs_parens",t)}function n(e){var t=e.parent();if(t instanceof xt)return!0;if(t instanceof Ct&&!(t instanceof Lt))return!0;if(t instanceof gt&&t.expression===this)return!0;if(t instanceof kt&&t.condition===this)return!0;if(t instanceof wt&&t.expression===this)return!0}function r(e,t,n){var r=e.length-1;e.forEach(function(e,i){if(!(e instanceof B)){n.indent(),e.print(n);if(i!=r||!t)n.newline(),t&&n.newline()}})}function i(e,t){e.length>0?t.with_block(function(){r(e,!1,t)}):t.print("{}")}function s(e,t){if(t.option("bracketize")){p(e.body,t);return}if(!e.body)return t.force_semicolon();if(e.body instanceof R&&!t.option("screw_ie8")){p(e.body,t);return}var n=e.body;for(;;)if(n instanceof st){if(!n.alternative){p(e.body,t);return}n=n.alternative}else{if(!(n instanceof j))break;n=n.body}a(e.body,t)}function o(e,t,n){if(!n)e.print(t);else try{e.walk(new an(function(e){if(e instanceof Ct&&e.operator=="in")throw t})),e.print(t)}catch(r){if(r!==t)throw r;e.print(t,!0)}}function u(e){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(e)<0}function a(e,t){t.option("bracketize")?!e||e instanceof B?t.print("{}"):e instanceof H?e.print(t):t.with_block(function(){t.indent(),e.print(t),t.newline()}):!e||e instanceof B?t.force_semicolon():e.print(t)}function f(e){var t=e.stack(),n=t.length,r=t[--n],i=t[--n];while(n>0){if(i instanceof A&&i.body===r)return!0;if(!(i instanceof bt&&i.car===r||i instanceof gt&&i.expression===r&&!(i instanceof yt)||i instanceof Et&&i.expression===r||i instanceof St&&i.expression===r||i instanceof kt&&i.condition===r||i instanceof Ct&&i.left===r||i instanceof Nt&&i.expression===r))return!1;r=i,i=t[--n]}}function l(e,t){return e.args.length==0&&!t.option("beautify")}function c(e){var t=e[0],n=t.length;for(var r=1;r<e.length;++r)e[r].length<n&&(t=e[r],n=t.length);return t}function h(e){var t=e.toString(10),n=[t.replace(/^0\./,".").replace("e+","e")],r;return Math.floor(e)===e?(e>=0?n.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):n.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),(r=/^(.*?)(0+)$/.exec(e))&&n.push(r[1]+"e"+r[2].length)):(r=/^0?\.(0+)(.*)$/.exec(e))&&n.push(r[2]+"e-"+(r[1].length+r[2].length),t.substr(t.indexOf("."))),c(n)}function p(e,t){if(e instanceof H){e.print(t);return}t.with_block(function(){t.indent(),e.print(t),t.newline()})}function d(e,t){e.DEFMETHOD("add_source_map",function(e){t(this,e)})}function m(e,t){t.add_mapping(e.start)}L.DEFMETHOD("print",function(e,t){function i(){n.add_comments(e),n.add_source_map(e),r(n,e)}var n=this,r=n._codegen;e.push_node(n),t||n.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}),L.DEFMETHOD("print_to_string",function(e){var t=Jn(e);return this.print(t),t.get()}),L.DEFMETHOD("add_comments",function(e){var t=e.option("comments"),n=this;if(t){var r=n.start;if(r&&!r._comments_dumped){r._comments_dumped=!0;var i=r.comments_before||[];n instanceof Z&&n.value&&n.value.walk(new an(function(e){e.start&&e.start.comments_before&&(i=i.concat(e.start.comments_before),e.start.comments_before=[]);if(e instanceof Q||e instanceof At||e instanceof Ot)return!0})),t.test?i=i.filter(function(e){return t.test(e.value)}):typeof t=="function"&&(i=i.filter(function(e){return t(n,e)})),i.forEach(function(t){/comment[134]/.test(t.type)?(e.print("//"+t.value+"\n"),e.indent()):t.type=="comment2"&&(e.print("/*"+t.value+"*/"),r.nlb?(e.print("\n"),e.indent()):e.space())})}}}),t(L,function(){return!1}),t(Q,function(e){return f(e)}),t(Ot,function(e){return f(e)}),t(xt,function(e){var t=e.parent();return t instanceof wt&&t.expression===this}),t(bt,function(e){var t=e.parent();return t instanceof gt||t instanceof xt||t instanceof Ct||t instanceof mt||t instanceof wt||t instanceof At||t instanceof Mt||t instanceof kt}),t(Ct,function(e){var t=e.parent();if(t instanceof gt&&t.expression===this)return!0;if(t instanceof xt)return!0;if(t instanceof wt&&t.expression===this)return!0;if(t instanceof Ct){var n=t.operator,r=Rn[n],i=this.operator,s=Rn[i];if(r>s||r==s&&this===t.right)return!0}}),t(wt,function(e){var t=e.parent();if(t instanceof yt&&t.expression===this)try{this.walk(new an(function(e){if(e instanceof gt)throw t}))}catch(n){if(n!==t)throw n;return!0}}),t(gt,function(e){var t=e.parent(),n;return t instanceof yt&&t.expression===this?!0:this.expression instanceof Q&&t instanceof wt&&t.expression===this&&(n=e.parent(1))instanceof Lt&&n.left===t}),t(yt,function(e){var t=e.parent();if(l(this,e)&&(t instanceof wt||t instanceof gt&&t.expression===this))return!0}),t(Qt,function(e){var t=e.parent();if(this.getValue()<0&&t instanceof wt&&t.expression===this)return!0}),t(en,function(e){var t=e.parent();if(t instanceof wt&&t.expression===this)return!0}),t(Lt,n),t(kt,n),e(M,function(e,t){t.print_string(e.value),t.semicolon()}),e(O,function(e,t){t.print("debugger"),t.semicolon()}),j.DEFMETHOD("_do_print_body",function(e){a(this.body,e)}),e(A,function(e,t){e.body.print(t),t.semicolon()}),e($,function(e,t){r(e.body,!0,t),t.print("")}),e(F,function(e,t){e.label.print(t),t.colon(),e.body.print(t)}),e(_,function(e,t){e.body.print(t),t.semicolon()}),e(H,function(e,t){i(e.body,t)}),e(B,function(e,t){t.semicolon()}),e(R,function(e,t){t.print("do"),t.space(),e._do_print_body(t),t.space(),t.print("while"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.semicolon()}),e(U,function(e,t){t.print("while"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.space(),e._do_print_body(t)}),e(z,function(e,t){t.print("for"),t.space(),t.with_parens(function(){e.init?(e.init instanceof pt?e.init.print(t):o(e.init,t,!0),t.print(";"),t.space()):t.print(";"),e.condition?(e.condition.print(t),t.print(";"),t.space()):t.print(";"),e.step&&e.step.print(t)}),t.space(),e._do_print_body(t)}),e(W,function(e,t){t.print("for"),t.space(),t.with_parens(function(){e.init.print(t),t.space(),t.print("in"),t.space(),e.object.print(t)}),t.space(),e._do_print_body(t)}),e(X,function(e,t){t.print("with"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space(),e._do_print_body(t)}),J.DEFMETHOD("_do_print",function(e,t){var n=this;t||e.print("function"),n.name&&(e.space(),n.name.print(e)),e.with_parens(function(){n.argnames.forEach(function(t,n){n&&e.comma(),t.print(e)})}),e.space(),i(n.body,e)}),e(J,function(e,t){e._do_print(t)}),Z.DEFMETHOD("_do_print",function(e,t){e.print(t),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),e(et,function(e,t){e._do_print(t,"return")}),e(tt,function(e,t){e._do_print(t,"throw")}),nt.DEFMETHOD("_do_print",function(e,t){e.print(t),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(rt,function(e,t){e._do_print(t,"break")}),e(it,function(e,t){e._do_print(t,"continue")}),e(st,function(e,t){t.print("if"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.space(),e.alternative?(s(e,t),t.space(),t.print("else"),t.space(),a(e.alternative,t)):e._do_print_body(t)}),e(ot,function(e,t){t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space(),e.body.length>0?t.with_block(function(){e.body.forEach(function(e,n){n&&t.newline(),t.indent(!0),e.print(t)})}):t.print("{}")}),ut.DEFMETHOD("_do_print_body",function(e){this.body.length>0&&(e.newline(),this.body.forEach(function(t){e.indent(),t.print(e),e.newline()}))}),e(at,function(e,t){t.print("default:"),e._do_print_body(t)}),e(ft,function(e,t){t.print("case"),t.space(),e.expression.print(t),t.print(":"),e._do_print_body(t)}),e(lt,function(e,t){t.print("try"),t.space(),i(e.body,t),e.bcatch&&(t.space(),e.bcatch.print(t)),e.bfinally&&(t.space(),e.bfinally.print(t))}),e(ct,function(e,t){t.print("catch"),t.space(),t.with_parens(function(){e.argname.print(t)}),t.space(),i(e.body,t)}),e(ht,function(e,t){t.print("finally"),t.space(),i(e.body,t)}),pt.DEFMETHOD("_do_print",function(e,t){e.print(t),e.space(),this.definitions.forEach(function(t,n){n&&e.comma(),t.print(e)});var n=e.parent(),r=n instanceof z||n instanceof W,i=r&&n.init===this;i||e.semicolon()}),e(dt,function(e,t){e._do_print(t,"var")}),e(vt,function(e,t){e._do_print(t,"const")}),e(mt,function(e,t){e.name.print(t);if(e.value){t.space(),t.print("="),t.space();var n=t.parent(1),r=n instanceof z||n instanceof W;o(e.value,t,r)}}),e(gt,function(e,t){e.expression.print(t);if(e instanceof yt&&l(e,t))return;t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})})}),e(yt,function(e,t){t.print("new"),t.space(),gt.prototype._codegen(e,t)}),bt.DEFMETHOD("_do_print",function(e){this.car.print(e),this.cdr&&(e.comma(),e.should_break()&&(e.newline(),e.indent()),this.cdr.print(e))}),e(bt,function(e,t){e._do_print(t)}),e(Et,function(e,t){var n=e.expression;n.print(t),n instanceof Qt&&n.getValue()>=0&&(/[xa-f.]/i.test(t.last())||t.print(".")),t.print("."),t.add_mapping(e.end),t.print_name(e.property)}),e(St,function(e,t){e.expression.print(t),t.print("["),e.property.print(t),t.print("]")}),e(Tt,function(e,t){var n=e.operator;t.print(n),/^[a-z]/i.test(n)&&t.space(),e.expression.print(t)}),e(Nt,function(e,t){e.expression.print(t),t.print(e.operator)}),e(Ct,function(e,t){e.left.print(t),t.space(),t.print(e.operator),e.operator=="<"&&e.right instanceof Tt&&e.right.operator=="!"&&e.right.expression instanceof Tt&&e.right.expression.operator=="--"?t.print(" "):t.space(),e.right.print(t)}),e(kt,function(e,t){e.condition.print(t),t.space(),t.print("?"),t.space(),e.consequent.print(t),t.space(),t.colon(),e.alternative.print(t)}),e(At,function(e,t){t.with_square(function(){var n=e.elements,r=n.length;r>0&&t.space(),n.forEach(function(e,n){n&&t.comma(),e.print(t),n===r-1&&e instanceof nn&&t.comma()}),r>0&&t.space()})}),e(Ot,function(e,t){e.properties.length>0?t.with_block(function(){e.properties.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):t.print("{}")}),e(_t,function(e,t){var n=e.key;t.option("quote_keys")?t.print_string(n+""):(typeof n=="number"||!t.option("beautify")&&+n+""==n)&&parseFloat(n)>=0?t.print(h(n)):(cn(n)?t.option("screw_ie8"):Mn(n))?t.print_name(n):t.print_string(n),t.colon(),e.value.print(t)}),e(Dt,function(e,t){t.print("set"),t.space(),e.key.print(t),e.value._do_print(t,!0)}),e(Pt,function(e,t){t.print("get"),t.space(),e.key.print(t),e.value._do_print(t,!0)}),e(Ht,function(e,t){var n=e.definition();t.print_name(n?n.mangled_name||n.name:e.name)}),e(tn,function(e,t){t.print("void 0")}),e(nn,v),e(rn,function(e,t){t.print("1/0")}),e(en,function(e,t){t.print("0/0")}),e($t,function(e,t){t.print("this")}),e(Jt,function(e,t){t.print(e.getValue())}),e(Kt,function(e,t){t.print_string(e.getValue())}),e(Qt,function(e,t){t.print(h(e.getValue()))}),e(Gt,function(e,t){var n=e.getValue().toString();t.option("ascii_only")?n=t.to_ascii(n):t.option("unescape_regexps")&&(n=n.split("\\\\").map(function(e){return e.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(e){var t=parseInt(e.substr(2),16);return u(t)?String.fromCharCode(t):e})}).join("\\\\")),t.print(n);var r=t.parent();r instanceof Ct&&/^in/.test(r.operator)&&r.left===e&&t.print(" ")}),d(L,v),d(M,m),d(O,m),d(Ht,m),d(Y,m),d(j,m),d(F,v),d(J,m),d(ot,m),d(ut,m),d(H,m),d($,v),d(yt,m),d(lt,m),d(ct,m),d(ht,m),d(pt,m),d(Jt,m),d(Mt,function(e,t){t.add_mapping(e.start,e.key)})}(),Kn.prototype=new Xn,d(Kn.prototype,{option:function(e){return this.options[e]},warn:function(){this.options.warnings&&L.warn.apply(L,arguments)},before:function(e,t,n){if(e._squeezed)return e;var r=!1;return e instanceof V&&(e=e.hoist_declarations(this),r=!0),t(e,this),e=e.optimize(this),r&&e instanceof V&&(e.drop_unused(this),t(e,this)),e._squeezed=!0,e}}),function(){function e(e,t){e.DEFMETHOD("optimize",function(e){var n=this;if(n._optimized)return n;var r=t(n,e);return r._optimized=!0,r===n?r:r.transform(e)})}function t(e,t,n){return n||(n={}),t&&(n.start||(n.start=t.start),n.end||(n.end=t.end)),new e(n)}function n(e,n,r){if(n instanceof L)return n.transform(e);switch(typeof n){case"string":return t(Kt,r,{value:n}).optimize(e);case"number":return t(isNaN(n)?en:Qt,r,{value:n}).optimize(e);case"boolean":return t(n?un:on,r).optimize(e);case"undefined":return t(tn,r).optimize(e);default:if(n===null)return t(Zt,r).optimize(e);if(n instanceof RegExp)return t(Gt,r).optimize(e);throw new Error(y("Can't handle constant of type: {type}",{type:typeof n}))}}function r(e){if(e===null)return[];if(e instanceof H)return e.body;if(e instanceof B)return[];if(e instanceof A)return[e];throw new Error("Can't convert thing to statement array")}function i(e){return e===null?!0:e instanceof B?!0:e instanceof H?e.body.length==0:!1}function s(e){return e instanceof ot?e:e instanceof z||e instanceof W||e instanceof q?e.body instanceof H?e.body:e:e}function o(e,n){function o(e){function r(e,n){return t(_,e,{body:t(Lt,e,{operator:"=",left:t(Et,n,{expression:t(Xt,n,n),property:"$inject"}),right:t(At,e,{elements:e.argnames.map(function(e){return t(Kt,e,{value:e.name})})})})})}return e.reduce(function(e,t){e.push(t);var i=t.start,s=i.comments_before;if(s&&s.length>0){var o=s.pop();/@ngInject/.test(o.value)&&(t instanceof G?e.push(r(t,t.name)):t instanceof pt?t.definitions.forEach(function(t){t.value&&t.value instanceof J&&e.push(r(t.value,t.name))}):n.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]",i))}return e},[])}function a(e){var t=[];return e.reduce(function(e,n){return n instanceof H?(i=!0,e.push.apply(e,a(n.body))):n instanceof B?i=!0:n instanceof M?t.indexOf(n.value)<0?(e.push(n),t.push(n.value)):i=!0:e.push(n),e},[])}function f(e,n){var o=n.self(),u=o instanceof J,a=[];e:for(var f=e.length;--f>=0;){var l=e[f];switch(!0){case u&&l instanceof et&&!l.value&&a.length==0:i=!0;continue e;case l instanceof st:if(l.body instanceof et){if((u&&a.length==0||a[0]instanceof et&&!a[0].value)&&!l.body.value&&!l.alternative){i=!0;var h=t(_,l.condition,{body:l.condition});a.unshift(h);continue e}if(a[0]instanceof et&&l.body.value&&a[0].value&&!l.alternative){i=!0,l=l.clone(),l.alternative=a[0],a[0]=l.transform(n);continue e}if((a.length==0||a[0]instanceof et)&&l.body.value&&!l.alternative&&u){i=!0,l=l.clone(),l.alternative=a[0]||t(et,l,{value:t(tn,l)}),a[0]=l.transform(n);continue e}if(!l.body.value&&u){i=!0,l=l.clone(),l.condition=l.condition.negate(n),l.body=t(H,l,{body:r(l.alternative).concat(a)}),l.alternative=null,a=[l.transform(n)];continue e}if(a.length==1&&u&&a[0]instanceof _&&(!l.alternative||l.alternative instanceof _)){i=!0,a.push(t(et,a[0],{value:t(tn,a[0])}).transform(n)),a=r(l.alternative).concat(a),a.unshift(l);continue e}}var p=c(l.body),d=p instanceof nt?n.loopcontrol_target(p.label):null;if(p&&(p instanceof et&&!p.value&&u||p instanceof it&&o===s(d)||p instanceof rt&&d instanceof H&&o===d)){p.label&&b(p.label.thedef.references,p),i=!0;var v=r(l.body).slice(0,-1);l=l.clone(),l.condition=l.condition.negate(n),l.body=t(H,l,{body:a}),l.alternative=t(H,l,{body:v}),a=[l.transform(n)];continue e}var p=c(l.alternative),d=p instanceof nt?n.loopcontrol_target(p.label):null;if(p&&(p instanceof et&&!p.value&&u||p instanceof it&&o===s(d)||p instanceof rt&&d instanceof H&&o===d)){p.label&&b(p.label.thedef.references,p),i=!0,l=l.clone(),l.body=t(H,l.body,{body:r(l.body).concat(a)}),l.alternative=t(H,l.alternative,{body:r(l.alternative).slice(0,-1)}),a=[l.transform(n)];continue e}a.unshift(l);break;default:a.unshift(l)}}return a}function l(e,t){var n=!1,r=e.length,o=t.self();return e=e.reduce(function(e,r){if(n)u(t,r,e);else{if(r instanceof nt){var i=t.loopcontrol_target(r.label);r instanceof rt&&i instanceof H&&s(i)===o||r instanceof it&&s(i)===o?r.label&&b(r.label.thedef.references,r):e.push(r)}else e.push(r);c(r)&&(n=!0)}return e},[]),i=e.length!=r,e}function h(e,n){function o(){r=bt.from_array(r),r&&s.push(t(_,r,{body:r})),r=[]}if(e.length<2)return e;var r=[],s=[];return e.forEach(function(e){e instanceof _?r.push(e.body):(o(),s.push(e))}),o(),s=p(s,n),i=s.length!=e.length,s}function p(e,n){function r(e){i.pop();var t=s.body;return t instanceof bt?t.add(e):t=bt.cons(t,e),t.transform(n)}var i=[],s=null;return e.forEach(function(e){if(s)if(e instanceof z){var n={};try{s.body.walk(new an(function(e){if(e instanceof Ct&&e.operator=="in")throw n})),!e.init||e.init instanceof pt?e.init||(e.init=s.body,i.pop()):e.init=r(e.init)}catch(o){if(o!==n)throw o}}else e instanceof st?e.condition=r(e.condition):e instanceof X?e.expression=r(e.expression):e instanceof Z&&e.value?e.value=r(e.value):e instanceof Z?e.value=r(t(tn,e)):e instanceof ot&&(e.expression=r(e.expression));i.push(e),s=e instanceof _?e:null}),i}function d(e,t){var n=null;return e.reduce(function(e,t){return t instanceof pt&&n&&n.TYPE==t.TYPE?(n.definitions=n.definitions.concat(t.definitions),i=!0):t instanceof z&&n instanceof pt&&(!t.init||t.init.TYPE==n.TYPE)?(i=!0,e.pop(),t.init?t.init.definitions=n.definitions.concat(t.init.definitions):t.init=n,e.push(t),n=t):(n=t,e.push(t)),e},[])}function v(e,n){e.forEach(function(e){e instanceof _&&(e.body=function n(e){return e.transform(new Xn(function(e){if(e instanceof gt&&e.expression instanceof Q)return t(Tt,e,{operator:"!",expression:e});if(e instanceof gt)e.expression=n(e.expression);else if(e instanceof bt)e.car=n(e.car);else if(e instanceof kt){var r=n(e.condition);if(r!==e.condition){e.condition=r;var i=e.consequent;e.consequent=e.alternative,e.alternative=i}}return e}))}(e.body))})}var i;do i=!1,n.option("angular")&&(e=o(e)),e=a(e),n.option("dead_code")&&(e=l(e,n)),n.option("if_return")&&(e=f(e,n)),n.option("sequences")&&(e=h(e,n)),n.option("join_vars")&&(e=d(e,n));while(i);return n.option("negate_iife")&&v(e,n),e}function u(e,t,n){e.warn("Dropping unreachable code [{file}:{line},{col}]",t.start),t.walk(new an(function(t){if(t instanceof pt)return e.warn("Declarations in unreachable code! [{file}:{line},{col}]",t.start),t.remove_initializers(),n.push(t),!0;if(t instanceof G)return n.push(t),!0;if(t instanceof V)return!0}))}function a(e,t){return e.print_to_string().length>t.print_to_string().length?t:e}function c(e){return e&&e.aborts()}function h(e,n){function i(i){i=r(i),e.body instanceof H?(e.body=e.body.clone(),e.body.body=i.concat(e.body.body.slice(1)),e.body=e.body.transform(n)):e.body=t(H,e.body,{body:i}).transform(n),h(e,n)}var s=e.body instanceof H?e.body.body[0]:e.body;s instanceof st&&(s.body instanceof rt&&n.loopcontrol_target(s.body.label)===e?(e.condition?e.condition=t(Ct,e.condition,{left:e.condition,operator:"&&",right:s.condition.negate(n)}):e.condition=s.condition.negate(n),i(s.alternative)):s.alternative instanceof rt&&n.loopcontrol_target(s.alternative.label)===e&&(e.condition?e.condition=t(Ct,e.condition,{left:e.condition,operator:"&&",right:s.condition}):e.condition=s.condition,i(s.body)))}function p(e,t){var n=t.option("pure_getters");t.options.pure_getters=!1;var r=e.has_side_effects(t);return t.options.pure_getters=n,r}function S(e,n){return n.option("booleans")&&n.in_boolean_context()?t(un,e):e}e(L,function(e,t){return e}),L.DEFMETHOD("equivalent_to",function(e){return this.print_to_string()==e.print_to_string()}),function(e){var t=["!","delete"],n=["in","instanceof","==","!=","===","!==","<","<=",">=",">"];e(L,function(){return!1}),e(Tt,function(){return f(this.operator,t)}),e(Ct,function(){return f(this.operator,n)||(this.operator=="&&"||this.operator=="||")&&this.left.is_boolean()&&this.right.is_boolean()}),e(kt,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),e(Lt,function(){return this.operator=="="&&this.right.is_boolean()}),e(bt,function(){return this.cdr.is_boolean()}),e(un,function(){return!0}),e(on,function(){return!0})}(function(e,t){e.DEFMETHOD("is_boolean",t)}),function(e){e(L,function(){return!1}),e(Kt,function(){return!0}),e(Tt,function(){return this.operator=="typeof"}),e(Ct,function(e){return this.operator=="+"&&(this.left.is_string(e)||this.right.is_string(e))}),e(Lt,function(e){return(this.operator=="="||this.operator=="+=")&&this.right.is_string(e)}),e(bt,function(e){return this.cdr.is_string(e)}),e(kt,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),e(gt,function(e){return e.option("unsafe")&&this.expression instanceof Xt&&this.expression.name=="String"&&this.expression.undeclared()})}(function(e,t){e.DEFMETHOD("is_string",t)}),function(e){function t(e,t){if(!t)throw new Error("Compressor must be passed");return e._eval(t)}L.DEFMETHOD("evaluate",function(t){if(!t.option("evaluate"))return[this];try{var r=this._eval(t);return[a(n(t,r,this),this),r]}catch(i){if(i!==e)throw i;return[this]}}),e(A,function(){throw new Error(y("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(Q,function(){throw e}),e(L,function(){throw e}),e(Jt,function(){return this.getValue()}),e(Tt,function(n){var r=this.expression;switch(this.operator){case"!":return!t(r,n);case"typeof":if(r instanceof Q)return typeof function(){};r=t(r,n);if(r instanceof RegExp)throw e;return typeof r;case"void":return void t(r,n);case"~":return~t(r,n);case"-":r=t(r,n);if(r===0)throw e;return-r;case"+":return+t(r,n)}throw e}),e(Ct,function(n){var r=this.left,i=this.right;switch(this.operator){case"&&":return t(r,n)&&t(i,n);case"||":return t(r,n)||t(i,n);case"|":return t(r,n)|t(i,n);case"&":return t(r,n)&t(i,n);case"^":return t(r,n)^t(i,n);case"+":return t(r,n)+t(i,n);case"*":return t(r,n)*t(i,n);case"/":return t(r,n)/t(i,n);case"%":return t(r,n)%t(i,n);case"-":return t(r,n)-t(i,n);case"<<":return t(r,n)<<t(i,n);case">>":return t(r,n)>>t(i,n);case">>>":return t(r,n)>>>t(i,n);case"==":return t(r,n)==t(i,n);case"===":return t(r,n)===t(i,n);case"!=":return t(r,n)!=t(i,n);case"!==":return t(r,n)!==t(i,n);case"<":return t(r,n)<t(i,n);case"<=":return t(r,n)<=t(i,n);case">":return t(r,n)>t(i,n);case">=":return t(r,n)>=t(i,n);case"in":return t(r,n)in t(i,n);case"instanceof":return t(r,n)instanceof t(i,n)}throw e}),e(kt,function(e){return t(this.condition,e)?t(this.consequent,e):t(this.alternative,e)}),e(Xt,function(n){var r=this.definition();if(r&&r.constant&&r.init)return t(r.init,n);throw e})}(function(e,t){e.DEFMETHOD("_eval",t)}),function(e){function n(e){return t(Tt,e,{operator:"!",expression:e})}e(L,function(){return n(this)}),e(A,function(){throw new Error("Cannot negate a statement")}),e(Q,function(){return n(this)}),e(Tt,function(){return this.operator=="!"?this.expression:n(this)}),e(bt,function(e){var t=this.clone();return t.cdr=t.cdr.negate(e),t}),e(kt,function(e){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),a(n(this),t)}),e(Ct,function(e){var t=this.clone(),r=this.operator;if(e.option("unsafe_comps"))switch(r){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(r){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e),t.right=t.right.negate(e),a(n(this),t);case"||":return t.operator="&&",t.left=t.left.negate(e),t.right=t.right.negate(e),a(n(this),t)}return n(this)})}(function(e,t){e.DEFMETHOD("negate",function(e){return t.call(this,e)})}),function(e){e(L,function(e){return!0}),e(B,function(e){return!1}),e(Jt,function(e){return!1}),e($t,function(e){return!1}),e(gt,function(e){var t=e.option("pure_funcs");return t?t.indexOf(this.expression.print_to_string())<0:!0}),e(P,function(e){for(var t=this.body.length;--t>=0;)if(this.body[t].has_side_effects(e))return!0;return!1}),e(_,function(e){return this.body.has_side_effects(e)}),e(G,function(e){return!0}),e(Q,function(e){return!1}),e(Ct,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(Lt,function(e){return!0}),e(kt,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(xt,function(e){return this.operator=="delete"||this.operator=="++"||this.operator=="--"||this.expression.has_side_effects(e)}),e(Xt,function(e){return!1}),e(Ot,function(e){for(var t=this.properties.length;--t>=0;)if(this.properties[t].has_side_effects(e))return!0;return!1}),e(Mt,function(e){return this.value.has_side_effects(e)}),e(At,function(e){for(var t=this.elements.length;--t>=0;)if(this.elements[t].has_side_effects(e))return!0;return!1}),e(Et,function(e){return e.option("pure_getters")?this.expression.has_side_effects(e):!0}),e(St,function(e){return e.option("pure_getters")?this.expression.has_side_effects(e)||this.property.has_side_effects(e):!0}),e(wt,function(e){return!e.option("pure_getters")}),e(bt,function(e){return this.car.has_side_effects(e)||this.cdr.has_side_effects(e)})}(function(e,t){e.DEFMETHOD("has_side_effects",t)}),function(e){function t(){var e=this.body.length;return e>0&&c(this.body[e-1])}e(A,function(){return null}),e(Y,function(){return this}),e(H,t),e(ut,t),e(st,function(){return this.alternative&&c(this.body)&&c(this.alternative)})}(function(e,t){e.DEFMETHOD("aborts",t)}),e(M,function(e,n){return e.scope.has_directive(e.value)!==e.scope?t(B,e):e}),e(O,function(e,n){return n.option("drop_debugger")?t(B,e):e}),e(F,function(e,n){return e.body instanceof rt&&n.loopcontrol_target(e.body.label)===e.body?t(B,e):e.label.references.length==0?e.body:e}),e(P,function(e,t){return e.body=o(e.body,t),e}),e(H,function(e,n){e.body=o(e.body,n);switch(e.body.length){case 1:return e.body[0];case 0:return t(B,e)}return e}),V.DEFMETHOD("drop_unused",function(e){var n=this;if(e.option("unused")&&!(n instanceof $)&&!n.uses_eval){var r=[],i=new N,s=this,o=new an(function(t,u){if(t!==n){if(t instanceof G)return i.add(t.name.name,t),!0;if(t instanceof pt&&s===n)return t.definitions.forEach(function(t){t.value&&(i.add(t.name.name,t.value),t.value.has_side_effects(e)&&t.value.walk(o))}),!0;if(t instanceof Xt)return g(r,t.definition()),!0;if(t instanceof V){var a=s;return s=t,u(),s=a,!0}}});n.walk(o);for(var u=0;u<r.length;++u)r[u].orig.forEach(function(e){var t=i.get(e.name);t&&t.forEach(function(e){var t=new an(function(e){e instanceof Xt&&g(r,e.definition())});e.walk(t)})});var a=new Xn(function(s,o,u){if(s instanceof J&&!(s instanceof K))for(var l=s.argnames,c=l.length;--c>=0;){var h=l[c];if(!h.unreferenced())break;l.pop(),e.warn("Dropping unused function argument {name} [{file}:{line},{col}]",{name:h.name,file:h.start.file,line:h.start.line,col:h.start.col})}if(s instanceof G&&s!==n)return f(s.name.definition(),r)?s:(e.warn("Dropping unused function {name} [{file}:{line},{col}]",{name:s.name.name,file:s.name.start.file,line:s.name.start.line,col:s.name.start.col}),t(B,s));if(s instanceof pt&&!(a.parent()instanceof W)){var p=s.definitions.filter(function(t){if(f(t.name.definition(),r))return!0;var n={name:t.name.name,file:t.name.start.file,line:t.name.start.line,col:t.name.start.col};return t.value&&t.value.has_side_effects(e)?(t._unused_side_effects=!0,e.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",n),!0):(e.warn("Dropping unused variable {name} [{file}:{line},{col}]",n),!1)});p=w(p,function(e,t){return!e.value&&t.value?-1:!t.value&&e.value?1:0});var d=[];for(var c=0;c<p.length;){var v=p[c];v._unused_side_effects?(d.push(v.value),p.splice(c,1)):(d.length>0&&(d.push(v.value),v.value=bt.from_array(d),d=[]),++c)}return d.length>0?d=t(H,s,{body:[t(_,s,{body:bt.from_array(d)})]}):d=null,p.length==0&&!d?t(B,s):p.length==0?d:(s.definitions=p,d&&(d.body.unshift(s),s=d),s)}if(s instanceof z){o(s,this);if(s.init instanceof H){var g=s.init.body.slice(0,-1);return s.init=s.init.body.slice(-1)[0].body,g.push(s),u?m.splice(g):t(H,s,{body:g})}}if(s instanceof V&&s!==n)return s});n.transform(a)}}),V.DEFMETHOD("hoist_declarations",function(e){var n=e.option("hoist_funs"),r=e.option("hoist_vars"),i=this;if(n||r){var s=[],o=[],u=new N,a=0,f=0;i.walk(new an(function(e){if(e instanceof V&&e!==i)return!0;if(e instanceof dt)return++f,!0})),r=r&&f>1;var c=new Xn(function(f){if(f!==i){if(f instanceof M)return s.push(f),t(B,f);if(f instanceof G&&n)return o.push(f),t(B,f);if(f instanceof dt&&r){f.definitions.forEach(function(e){u.set(e.name.name,e),++a});var l=f.to_assignments(),h=c.parent();return h instanceof W&&h.init===f?l==null?f.definitions[0].name:l:h instanceof z&&h.init===f?l:l?t(_,f,{body:l}):t(B,f)}if(f instanceof V)return f}});i=i.transform(c);if(a>0){var h=[];u.each(function(e,t){i instanceof J&&l(function(t){return t.name==e.name.name},i.argnames)?u.del(t):(e=e.clone(),e.value=null,h.push(e),u.set(t,e))});if(h.length>0){for(var p=0;p<i.body.length;){if(i.body[p]instanceof _){var d=i.body[p].body,v,m;if(d instanceof Lt&&d.operator=="="&&(v=d.left)instanceof Ht&&u.has(v.name)){var g=u.get(v.name);if(g.value)break;g.value=d.right,b(h,g),h.push(g),i.body.splice(p,1);continue}if(d instanceof bt&&(m=d.car)instanceof Lt&&m.operator=="="&&(v=m.left)instanceof Ht&&u.has(v.name)){var g=u.get(v.name);if(g.value)break;g.value=m.right,b(h,g),h.push(g),i.body[p].body=d.cdr;continue}}if(i.body[p]instanceof B){i.body.splice(p,1);continue}if(i.body[p]instanceof H){var y=[p,1].concat(i.body[p].body);i.body.splice.apply(i.body,y);continue}break}h=t(dt,i,{definitions:h}),o.push(h)}}i.body=s.concat(o,i.body)}return i}),e(_,function(e,n){return n.option("side_effects")&&!e.body.has_side_effects(n)?(n.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),t(B,e)):e}),e(q,function(e,n){var r=e.condition.evaluate(n);e.condition=r[0];if(!n.option("loops"))return e;if(r.length>1){if(r[1])return t(z,e,{body:e.body});if(e instanceof U&&n.option("dead_code")){var i=[];return u(n,e.body,i),t(H,e,{body:i})}}return e}),e(U,function(e,n){return n.option("loops")?(e=q.prototype.optimize.call(e,n),e instanceof U&&(h(e,n),e=t(z,e,e).transform(n)),e):e}),e(z,function(e,n){var r=e.condition;r&&(r=r.evaluate(n),e.condition=r[0]);if(!n.option("loops"))return e;if(r&&r.length>1&&!r[1]&&n.option("dead_code")){var i=[];return e.init instanceof A?i.push(e.init):e.init&&i.push(t(_,e.init,{body:e.init})),u(n,e.body,i),t(H,e,{body:i})}return h(e,n),e}),e(st,function(e,n){if(!n.option("conditionals"))return e;var r=e.condition.evaluate(n);e.condition=r[0];if(r.length>1)if(r[1]){n.warn("Condition always true [{file}:{line},{col}]",e.condition.start);if(n.option("dead_code")){var s=[];return e.alternative&&u(n,e.alternative,s),s.push(e.body),t(H,e,{body:s}).transform(n)}}else{n.warn("Condition always false [{file}:{line},{col}]",e.condition.start);if(n.option("dead_code")){var s=[];return u(n,e.body,s),e.alternative&&s.push(e.alternative),t(H,e,{body:s}).transform(n)}}i(e.alternative)&&(e.alternative=null);var o=e.condition.negate(n),f=a(e.condition,o)===o;if(e.alternative&&f){f=!1,e.condition=o;var l=e.body;e.body=e.alternative||t(B),e.alternative=l}if(i(e.body)&&i(e.alternative))return t(_,e.condition,{body:e.condition}).transform(n);if(e.body instanceof _&&e.alternative instanceof _)return t(_,e,{body:t(kt,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).transform(n);if(i(e.alternative)&&e.body instanceof _)return f?t(_,e,{body:t(Ct,e,{operator:"||",left:o,right:e.body.body})}).transform(n):t(_,e,{body:t(Ct,e,{operator:"&&",left:e.condition,right:e.body.body})}).transform(n);if(e.body instanceof B&&e.alternative&&e.alternative instanceof _)return t(_,e,{body:t(Ct,e,{operator:"||",left:e.condition,right:e.alternative.body})}).transform(n);if(e.body instanceof Z&&e.alternative instanceof Z&&e.body.TYPE==e.alternative.TYPE)return t(e.body.CTOR,e,{value:t(kt,e,{condition:e.condition,consequent:e.body.value||t(tn,e.body).optimize(n),alternative:e.alternative.value||t(tn,e.alternative).optimize(n)})}).transform(n);e.body instanceof st&&!e.body.alternative&&!e.alternative&&(e.condition=t(Ct,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}).transform(n),e.body=e.body.body);if(c(e.body)&&e.alternative){var h=e.alternative;return e.alternative=null,t(H,e,{body:[e,h]}).transform(n)}if(c(e.alternative)){var p=e.body;return e.body=e.alternative,e.condition=f?o:e.condition.negate(n),e.alternative=null,t(H,e,{body:[e,p]}).transform(n)}return e}),e(ot,function(e,n){if(e.body.length==0&&n.option("conditionals"))return t(_,e,{body:e.expression}).transform(n);for(;;){var r=e.body[e.body.length-1];if(r){var i=r.body[r.body.length-1];i instanceof rt&&s(n.loopcontrol_target(i.label))===e&&r.body.pop();if(r instanceof at&&r.body.length==0){e.body.pop();continue}}break}var o=e.expression.evaluate(n);e:if(o.length==2)try{e.expression=o[0];if(!n.option("dead_code"))break e;var u=o[1],a=!1,f=!1,l=!1,h=!1,p=!1,d=new Xn(function(r,i,s){if(r instanceof J||r instanceof _)return r;if(r instanceof ot&&r===e)return r=r.clone(),i(r,this),p?r:t(H,r,{body:r.body.reduce(function(e,t){return e.concat(t.body)},[])}).transform(n);if(r instanceof st||r instanceof lt){var o=a;return a=!f,i(r,this),a=o,r}if(r instanceof j||r instanceof ot){var o=f;return f=!0,i(r,this),f=o,r}if(r instanceof rt&&this.loopcontrol_target(r.label)===e)return a?(p=!0,r):f?r:(h=!0,s?m.skip:t(B,r));if(r instanceof ut&&this.parent()===e){if(h)return m.skip;if(r instanceof ft){var d=r.expression.evaluate(n);if(d.length<2)throw e;return d[1]===u||l?(l=!0,c(r)&&(h=!0),i(r,this),r):m.skip}return i(r,this),r}});d.stack=n.stack.slice(),e=e.transform(d)}catch(v){if(v!==e)throw v}return e}),e(ft,function(e,t){return e.body=o(e.body,t),e}),e(lt,function(e,t){return e.body=o(e.body,t),e}),pt.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(e){e.value=null})}),pt.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,n){if(n.value){var r=t(Xt,n.name,n.name);e.push(t(Lt,n,{operator:"=",left:r,right:n.value}))}return e},[]);return e.length==0?null:bt.from_array(e)}),e(pt,function(e,n){return e.definitions.length==0?t(B,e):e}),e(Q,function(e,t){return e=J.prototype.optimize.call(e,t),t.option("unused")&&e.name&&e.name.unreferenced()&&(e.name=null),e}),e(gt,function(e,r){if(r.option("unsafe")){var i=e.expression;if(i instanceof Xt&&i.undeclared())switch(i.name){case"Array":if(e.args.length!=1)return t(At,e,{elements:e.args}).transform(r);break;case"Object":if(e.args.length==0)return t(Ot,e,{properties:[]});break;case"String":if(e.args.length==0)return t(Kt,e,{value:""});if(e.args.length<=1)return t(Ct,e,{left:e.args[0],operator:"+",right:t(Kt,e,{value:""})}).transform(r);break;case"Number":if(e.args.length==0)return t(Qt,e,{value:0});if(e.args.length==1)return t(Tt,e,{expression:e.args[0],operator:"+"}).transform(r);case"Boolean":if(e.args.length==0)return t(on,e);if(e.args.length==1)return t(Tt,e,{expression:t(Tt,null,{expression:e.args[0],operator:"!"}),operator:"!"}).transform(r);break;case"Function":if(T(e.args,function(e){return e instanceof Kt}))try{var s="(function("+e.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+e.args[e.args.length-1].value+"})()",o=Wn(s);o.figure_out_scope({screw_ie8:r.option("screw_ie8")});var u=new Kn(r.options);o=o.transform(u),o.figure_out_scope({screw_ie8:r.option("screw_ie8")}),o.mangle_names();var f;try{o.walk(new an(function(e){if(e instanceof J)throw f=e,o}))}catch(l){if(l!==o)throw l}var c=f.argnames.map(function(n,r){return t(Kt,e.args[r],{value:n.print_to_string()})}),s=Jn();return H.prototype._codegen.call(f,f,s),s=s.toString().replace(/^\{|\}$/g,""),c.push(t(Kt,e.args[e.args.length-1],{value:s})),e.args=c,e}catch(l){if(!(l instanceof Dn))throw console.log(l),l;r.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),r.warn(l.toString())}}else{if(i instanceof Et&&i.property=="toString"&&e.args.length==0)return t(Ct,e,{left:t(Kt,e,{value:""}),operator:"+",right:i.expression}).transform(r);if(i instanceof Et&&i.expression instanceof At&&i.property=="join")e:{var h=e.args.length==0?",":e.args[0].evaluate(r)[1];if(h==null)break e;var p=i.expression.elements.reduce(function(e,t){t=t.evaluate(r);if(e.length==0||t.length==1)e.push(t);else{var i=e[e.length-1];if(i.length==2){var s=""+i[1]+h+t[1];e[e.length-1]=[n(r,s,i[0]),s]}else e.push(t)}return e},[]);if(p.length==0)return t(Kt,e,{value:""});if(p.length==1)return p[0][0];if(h==""){var d;return p[0][0]instanceof Kt||p[1][0]instanceof Kt?d=p.shift()[0]:d=t(Kt,e,{value:""}),p.reduce(function(e,n){return t(Ct,n[0],{operator:"+",left:e,right:n[0]})},d).transform(r)}var v=e.clone();return v.expression=v.expression.clone(),v.expression.expression=v.expression.expression.clone(),v.expression.expression.elements=p.map(function(e){return e[0]}),a(e,v)}}}return r.option("side_effects")&&e.expression instanceof Q&&e.args.length==0&&!P.prototype.has_side_effects.call(e.expression,r)?t(tn,e).transform(r):r.option("drop_console")&&e.expression instanceof wt&&e.expression.expression instanceof Xt&&e.expression.expression.name=="console"&&e.expression.expression.undeclared()?t(tn,e).transform(r):e.evaluate(r)[0]}),e(yt,function(e,n){if(n.option("unsafe")){var r=e.expression;if(r instanceof Xt&&r.undeclared())switch(r.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return t(gt,e,e).transform(n)}}return e}),e(bt,function(e,n){if(!n.option("side_effects"))return e;if(!e.car.has_side_effects(n)){var r;if(!(e.cdr instanceof Xt&&e.cdr.name=="eval"&&e.cdr.undeclared()&&(r=n.parent())instanceof gt&&r.expression===e))return e.cdr}if(n.option("cascade")){if(e.car instanceof Lt&&!e.car.left.has_side_effects(n)){if(e.car.left.equivalent_to(e.cdr))return e.car;if(e.cdr instanceof gt&&e.cdr.expression.equivalent_to(e.car.left))return e.cdr.expression=e.car,e.cdr}if(!e.car.has_side_effects(n)&&!e.cdr.has_side_effects(n)&&e.car.equivalent_to(e.cdr))return e.car}return e.cdr instanceof Tt&&e.cdr.operator=="void"&&!e.cdr.expression.has_side_effects(n)?(e.cdr.operator=e.car,e.cdr):e.cdr instanceof tn?t(Tt,e,{operator:"void",expression:e.car}):e}),xt.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")&&this.expression instanceof bt){var t=this.expression,n=t.to_array();return this.expression=n.pop(),n.push(this),t=bt.from_array(n).transform(e),t}return this}),e(Nt,function(e,t){return e.lift_sequences(t)}),e(Tt,function(e,n){e=e.lift_sequences(n);var r=e.expression;if(n.option("booleans")&&n.in_boolean_context()){switch(e.operator){case"!":if(r instanceof Tt&&r.operator=="!")return r.expression;break;case"typeof":return n.warn("Boolean expression always true [{file}:{line},{col}]",e.start),t(un,e)}r instanceof Ct&&e.operator=="!"&&(e=a(e,r.negate(n)))}return e.evaluate(n)[0]}),Ct.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")){if(this.left instanceof bt){var t=this.left,n=t.to_array();return this.left=n.pop(),n.push(this),t=bt.from_array(n).transform(e),t}if(this.right instanceof bt&&this instanceof Lt&&!p(this.left,e)){var t=this.right,n=t.to_array();return this.right=n.pop(),n.push(this),t=bt.from_array(n).transform(e),t}}return this});var d=x("== === != !== * & | ^");e(Ct,function(e,n){var r=n.has_directive("use asm")?v:function(t,r){if(r||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)){t&&(e.operator=t);var i=e.left;e.left=e.right,e.right=i}};if(d(e.operator)){e.right instanceof Jt&&!(e.left instanceof Jt)&&(e.left instanceof Ct&&Rn[e.left.operator]>=Rn[e.operator]||r(null,!0));if(/^[!=]==?$/.test(e.operator)){if(e.left instanceof Xt&&e.right instanceof kt){if(e.right.consequent instanceof Xt&&e.right.consequent.definition()===e.left.definition()){if(/^==/.test(e.operator))return e.right.condition;if(/^!=/.test(e.operator))return e.right.condition.negate(n)}if(e.right.alternative instanceof Xt&&e.right.alternative.definition()===e.left.definition()){if(/^==/.test(e.operator))return e.right.condition.negate(n);if(/^!=/.test(e.operator))return e.right.condition}}if(e.right instanceof Xt&&e.left instanceof kt){if(e.left.consequent instanceof Xt&&e.left.consequent.definition()===e.right.definition()){if(/^==/.test(e.operator))return e.left.condition;if(/^!=/.test(e.operator))return e.left.condition.negate(n)}if(e.left.alternative instanceof Xt&&e.left.alternative.definition()===e.right.definition()){if(/^==/.test(e.operator))return e.left.condition.negate(n);if(/^!=/.test(e.operator))return e.left.condition}}}}e=e.lift_sequences(n);if(n.option("comparisons"))switch(e.operator){case"===":case"!==":if(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_boolean()&&e.right.is_boolean())e.operator=e.operator.substr(0,2);case"==":case"!=":e.left instanceof Kt&&e.left.value=="undefined"&&e.right instanceof Tt&&e.right.operator=="typeof"&&n.option("unsafe")&&(!(e.right.expression instanceof Xt)||!e.right.expression.undeclared())&&(e.right=e.right.expression,e.left=t(tn,e.left).optimize(n),e.operator.length==2&&(e.operator+="="))}if(n.option("booleans")&&n.in_boolean_context())switch(e.operator){case"&&":var i=e.left.evaluate(n),s=e.right.evaluate(n);if(i.length>1&&!i[1]||s.length>1&&!s[1])return n.warn("Boolean && always false [{file}:{line},{col}]",e.start),t(on,e);if(i.length>1&&i[1])return s[0];if(s.length>1&&s[1])return i[0];break;case"||":var i=e.left.evaluate(n),s=e.right.evaluate(n);if(i.length>1&&i[1]||s.length>1&&s[1])return n.warn("Boolean || always true [{file}:{line},{col}]",e.start),t(un,e);if(i.length>1&&!i[1])return s[0];if(s.length>1&&!s[1])return i[0];break;case"+":var i=e.left.evaluate(n),s=e.right.evaluate(n);if(i.length>1&&i[0]instanceof Kt&&i[1]||s.length>1&&s[0]instanceof Kt&&s[1])return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),t(un,e)}if(n.option("comparisons")){if(!(n.parent()instanceof Ct)||n.parent()instanceof Lt){var o=t(Tt,e,{operator:"!",expression:e.negate(n)});e=a(e,o)}switch(e.operator){case"<":r(">");break;case"<=":r(">=")}}return e.operator=="+"&&e.right instanceof Kt&&e.right.getValue()===""&&e.left instanceof Ct&&e.left.operator=="+"&&e.left.is_string(n)?e.left:(n.option("evaluate")&&e.operator=="+"&&(e.left instanceof Jt&&e.right instanceof Ct&&e.right.operator=="+"&&e.right.left instanceof Jt&&e.right.is_string(n)&&(e=t(Ct,e,{operator:"+",left:t(Kt,null,{value:""+e.left.getValue()+e.right.left.getValue(),start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof Jt&&e.left instanceof Ct&&e.left.operator=="+"&&e.left.right instanceof Jt&&e.left.is_string(n)&&(e=t(Ct,e,{operator:"+",left:e.left.left,right:t(Kt,null,{value:""+e.left.right.getValue()+e.right.getValue(),start:e.left.right.start,end:e.right.end})})),e.left instanceof Ct&&e.left.operator=="+"&&e.left.is_string(n)&&e.left.right instanceof Jt&&e.right instanceof Ct&&e.right.operator=="+"&&e.right.left instanceof Jt&&e.right.is_string(n)&&(e=t(Ct,e,{operator:"+",left:t(Ct,e.left,{operator:"+",left:e.left.left,right:t(Kt,null,{value:""+e.left.right.getValue()+e.right.left.getValue(),start:e.left.right.start,end:e.right.left.end})}),right:e.right.right}))),e.right instanceof Ct&&e.right.operator==e.operator&&(e.operator=="*"||e.operator=="&&"||e.operator=="||")?(e.left=t(Ct,e.left,{operator:e.operator,left:e.left,right:e.right.left}),e.right=e.right.right,e.transform(n)):e.evaluate(n)[0])}),e(Xt,function(e,r){if(e.undeclared()){var i=r.option("global_defs");if(i&&i.hasOwnProperty(e.name))return n(r,i[e.name],e);switch(e.name){case"undefined":return t(tn,e);case"NaN":return t(en,e);case"Infinity":return t(rn,e)}}return e}),e(tn,function(e,n){if(n.option("unsafe")){var r=n.find_parent(V),i=r.find_variable("undefined");if(i){var s=t(Xt,e,{name:"undefined",scope:r,thedef:i});return s.reference(),s}}return e});var E=["+","-","/","*","%",">>","<<",">>>","|","^","&"];e(Lt,function(e,t){return e=e.lift_sequences(t),e.operator=="="&&e.left instanceof Xt&&e.right instanceof Ct&&e.right.left instanceof Xt&&e.right.left.name==e.left.name&&f(e.right.operator,E)&&(e.operator=e.right.operator+"=",e.right=e.right.right),e}),e(kt,function(e,n){if(!n.option("conditionals"))return e;if(e.condition instanceof bt){var r=e.condition.car;return e.condition=e.condition.cdr,bt.cons(r,e)}var i=e.condition.evaluate(n);if(i.length>1)return i[1]?(n.warn("Condition always true [{file}:{line},{col}]",e.start),e.consequent):(n.warn("Condition always false [{file}:{line},{col}]",e.start),e.alternative);var s=i[0].negate(n);a(i[0],s)===s&&(e=t(kt,e,{condition:s,consequent:e.alternative,alternative:e.consequent}));var o=e.consequent,u=e.alternative;if(o instanceof Lt&&u instanceof Lt&&o.operator==u.operator&&o.left.equivalent_to(u.left))return t(Lt,e,{operator:o.operator,left:o.left,right:t(kt,e,{condition:e.condition,consequent:o.right,alternative:u.right})});if(o instanceof gt&&u.TYPE===o.TYPE&&o.args.length==u.args.length&&o.expression.equivalent_to(u.expression)){if(o.args.length==0)return t(bt,e,{car:e.condition,cdr:o});if(o.args.length==1)return o.args[0]=t(kt,e,{condition:e.condition,consequent:o.args[0],alternative:u.args[0]}),o}return e}),e(sn,function(e,n){if(n.option("booleans")){var r=n.parent();return r instanceof Ct&&(r.operator=="=="||r.operator=="!=")?(n.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:r.operator,value:e.value,file:r.start.file,line:r.start.line,col:r.start.col}),t(Qt,e,{value:+e.value})):t(Tt,e,{operator:"!",expression:t(Qt,e,{value:1-e.value})})}return e}),e(St,function(e,n){var r=e.property;if(r instanceof Kt&&n.option("properties")){r=r.getValue();if(cn(r)?n.option("screw_ie8"):Mn(r))return t(Et,e,{expression:e.expression,property:r});var i=parseFloat(r);!isNaN(i)&&i.toString()==r&&(e.property=t(Qt,e.property,{value:i}))}return e}),e(At,S),e(Ot,S),e(Gt,S)}(),function(){function t(e){var t="prefix"in e?e.prefix:e.type=="UnaryExpression"?!0:!1;return new(t?Tt:Nt)({start:r(e),end:i(e),operator:e.operator,expression:u(e.argument)})}function r(e){return new k({file:e.loc&&e.loc.source,line:e.loc&&e.loc.start.line,col:e.loc&&e.loc.start.column,pos:e.start,endpos:e.start})}function i(e){return new k({file:e.loc&&e.loc.source,line:e.loc&&e.loc.end.line,col:e.loc&&e.loc.end.column,pos:e.end,endpos:e.end})}function s(t,n,s){var o="function From_Moz_"+t+"(M){\n";return o+="return new mytype({\nstart: my_start_token(M),\nend: my_end_token(M)",s&&s.split(/\s*,\s*/).forEach(function(e){var t=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!t)throw new Error("Can't understand property map: "+e);var n="M."+t[1],r=t[2],i=t[3];o+=",\n"+i+": ";if(r=="@")o+=n+".map(from_moz)";else if(r==">")o+="from_moz("+n+")";else if(r=="=")o+=n;else{if(r!="%")throw new Error("Can't understand operator in propmap: "+e);o+="from_moz("+n+").body"}}),o+="\n})}",o=(new Function("mytype","my_start_token","my_end_token","from_moz","return("+o+")"))(n,r,i,u),e[t]=o}function u(t){o.push(t);var n=t!=null?e[t.type](t):null;return o.pop(),n}var e={TryStatement:function(e){return new lt({start:r(e),end:i(e),body:u(e.block).body,bcatch:u(e.handlers[0]),bfinally:e.finalizer?new ht(u(e.finalizer)):null})},CatchClause:function(e){return new ct({start:r(e),end:i(e),argname:u(e.param),body:u(e.body).body})},ObjectExpression:function(e){return new Ot({start:r(e),end:i(e),properties:e.properties.map(function(e){var t=e.key,n=t.type=="Identifier"?t.name:t.value,s={start:r(t),end:i(e.value),key:n,value:u(e.value)};switch(e.kind){case"init":return new _t(s);case"set":return s.value.name=u(t),new Dt(s);case"get":return s.value.name=u(t),new Pt(s)}})})},SequenceExpression:function(e){return bt.from_array(e.expressions.map(u))},MemberExpression:function(e){return new(e.computed?St:Et)({start:r(e),end:i(e),property:e.computed?u(e.property):e.property.name,expression:u(e.object)})},SwitchCase:function(e){return new(e.test?ft:at)({start:r(e),end:i(e),expression:u(e.test),body:e.consequent.map(u)})},Literal:function(e){var t=e.value,n={start:r(e),end:i(e)};if(t===null)return new Zt(n);switch(typeof t){case"string":return n.value=t,new Kt(n);case"number":return n.value=t,new Qt(n);case"boolean":return new(t?un:on)(n);default:return n.value=t,new Gt(n)}},UnaryExpression:t,UpdateExpression:t,Identifier:function(e){var t=o[o.length-2];return new(e.name=="this"?$t:t.type=="LabeledStatement"?Wt:t.type=="VariableDeclarator"&&t.id===e?t.kind=="const"?It:Ft:t.type=="FunctionExpression"?t.id===e?Ut:qt:t.type=="FunctionDeclaration"?t.id===e?Rt:qt:t.type=="CatchClause"?zt:t.type=="BreakStatement"||t.type=="ContinueStatement"?Vt:Xt)({start:r(e),end:i(e),name:e.name})}},n={};s("Node",L),s("Program",$,"body@body"),s("Function",Q,"id>name, params@argnames, body%body"),s("EmptyStatement",B),s("BlockStatement",H,"body@body"),s("ExpressionStatement",_,"expression>body"),s("IfStatement",st,"test>condition, consequent>body, alternate>alternative"),s("LabeledStatement",F,"label>label, body>body"),s("BreakStatement",rt,"label>label"),s("ContinueStatement",it,"label>label"),s("WithStatement",X,"object>expression, body>body"),s("SwitchStatement",ot,"discriminant>expression, cases@body"),s("ReturnStatement",et,"argument>value"),s("ThrowStatement",tt,"argument>value"),s("WhileStatement",U,"test>condition, body>body"),s("DoWhileStatement",R,"test>condition, body>body"),s("ForStatement",z,"init>init, test>condition, update>step, body>body"),s("ForInStatement",W,"left>init, right>object, body>body"),s("DebuggerStatement",O),s("FunctionDeclaration",G,"id>name, params@argnames, body%body"),s("VariableDeclaration",dt,"declarations@definitions"),s("VariableDeclarator",mt,"id>name, init>value"),s("ThisExpression",$t),s("ArrayExpression",At,"elements@elements"),s("FunctionExpression",Q,"id>name, params@argnames, body%body"),s("BinaryExpression",Ct,"operator=operator, left>left, right>right"),s("AssignmentExpression",Lt,"operator=operator, left>left, right>right"),s("LogicalExpression",Ct,"operator=operator, left>left, right>right"),s("ConditionalExpression",kt,"test>condition, consequent>consequent, alternate>alternative"),s("NewExpression",yt,"callee>expression, arguments@args"),s("CallExpression",gt,"callee>expression, arguments@args");var o=null;L.from_mozilla_ast=function(e){var t=o;o=[];var n=u(e);return o=t,n}}(),n.sys=r,n.MOZ_SourceMap=i,n.UglifyJS=s,n.array_to_hash=o,n.slice=u,n.characters=a,n.member=f,n.find_if=l,n.repeat_string=c,n.DefaultsError=h,n.defaults=p,n.merge=d,n.noop=v,n.MAP=m,n.push_uniq=g,n.string_template=y,n.remove=b,n.mergeSort=w,n.set_difference=E,n.set_intersection=S,n.makePredicate=x,n.all=T,n.Dictionary=N,n.DEFNODE=C,n.AST_Token=k,n.AST_Node=L,n.AST_Statement=A,n.AST_Debugger=O,n.AST_Directive=M,n.AST_SimpleStatement=_,n.walk_body=D,n.AST_Block=P,n.AST_BlockStatement=H,n.AST_EmptyStatement=B,n.AST_StatementWithBody=j,n.AST_LabeledStatement=F,n.AST_IterationStatement=I,n.AST_DWLoop=q,n.AST_Do=R,n.AST_While=U,n.AST_For=z,n.AST_ForIn=W,n.AST_With=X,n.AST_Scope=V,n.AST_Toplevel=$,n.AST_Lambda=J,n.AST_Accessor=K,n.AST_Function=Q,n.AST_Defun=G,n.AST_Jump=Y,n.AST_Exit=Z,n.AST_Return=et,n.AST_Throw=tt,n.AST_LoopControl=nt,n.AST_Break=rt,n.AST_Continue=it,n.AST_If=st,n.AST_Switch=ot,n.AST_SwitchBranch=ut,n.AST_Default=at,n.AST_Case=ft,n.AST_Try=lt,n.AST_Catch=ct,n.AST_Finally=ht,n.AST_Definitions=pt,n.AST_Var=dt,n.AST_Const=vt,n.AST_VarDef=mt,n.AST_Call=gt,n.AST_New=yt,n.AST_Seq=bt,n.AST_PropAccess=wt,n.AST_Dot=Et,n.AST_Sub=St,n.AST_Unary=xt,n.AST_UnaryPrefix=Tt,n.AST_UnaryPostfix=Nt,n.AST_Binary=Ct,n.AST_Conditional=kt,n.AST_Assign=Lt,n.AST_Array=At,n.AST_Object=Ot,n.AST_ObjectProperty=Mt,n.AST_ObjectKeyVal=_t,n.AST_ObjectSetter=Dt,n.AST_ObjectGetter=Pt,n.AST_Symbol=Ht,n.AST_SymbolAccessor=Bt,n.AST_SymbolDeclaration=jt,n.AST_SymbolVar=Ft,n.AST_SymbolConst=It,n.AST_SymbolFunarg=qt,n.AST_SymbolDefun=Rt,n.AST_SymbolLambda=Ut,n.AST_SymbolCatch=zt,n.AST_Label=Wt,n.AST_SymbolRef=Xt,n.AST_LabelRef=Vt,n.AST_This=$t,n.AST_Constant=Jt,n.AST_String=Kt,n.AST_Number=Qt,n.AST_RegExp=Gt,n.AST_Atom=Yt,n.AST_Null=Zt,n.AST_NaN=en,n.AST_Undefined=tn,n.AST_Hole=nn,n.AST_Infinity=rn,n.AST_Boolean=sn,n.AST_False=on,n.AST_True=un,n.TreeWalker=an,n.KEYWORDS=fn,n.KEYWORDS_ATOM=ln,n.RESERVED_WORDS=cn,n.KEYWORDS_BEFORE_EXPRESSION=hn,n.OPERATOR_CHARS=pn,n.RE_HEX_NUMBER=dn,n.RE_OCT_NUMBER=vn,n.RE_DEC_NUMBER=mn,n.OPERATORS=gn,n.WHITESPACE_CHARS=yn,n.PUNC_BEFORE_EXPRESSION=bn,n.PUNC_CHARS=wn,n.REGEXP_MODIFIERS=En,n.UNICODE=Sn,n.is_letter=xn,n.is_digit=Tn,n.is_alphanumeric_char=Nn,n.is_unicode_combining_mark=Cn,n.is_unicode_connector_punctuation=kn,n.is_identifier=Ln,n.is_identifier_start=An,n.is_identifier_char=On,n.is_identifier_string=Mn,n.parse_js_number=_n,n.JS_Parse_Error=Dn,n.js_error=Pn,n.is_token=Hn,n.EX_EOF=Bn,n.tokenizer=jn,n.UNARY_PREFIX=Fn,n.UNARY_POSTFIX=In,n.ASSIGNMENT=qn,n.PRECEDENCE=Rn,n.STATEMENTS_WITH_LABELS=Un,n.ATOMIC_START_TOKEN=zn,n.parse=Wn,n.TreeTransformer=Xn,n.SymbolDef=Vn,n.base54=$n,n.OutputStream=Jn,n.Compressor=Kn,n.SourceMap=Qn,n.AST_Node.warn_function=function(e){typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(e)},n.minify=function(e,t){t=s.defaults(t,{spidermonkey:!1,outSourceMap:null,sourceRoot:null,inSourceMap:null,fromString:!1,warnings:!1,mangle:{},output:null,compress:{}}),s.base54.reset();var n=null;t.spidermonkey?n=s.AST_Node.from_mozilla_ast(e):(typeof e=="string"&&(e=[e]),e.forEach(function(e){var r=t.fromString?e:fs.readFileSync(e,"utf8");n=s.parse(r,{filename:t.fromString?"?":e,toplevel:n})}));if(t.compress){var r={warnings:t.warnings};s.merge(r,t.compress),n.figure_out_scope();var i=s.Compressor(r);n=n.transform(i)}t.mangle&&(n.figure_out_scope(),n.compute_char_frequency(),n.mangle_names(t.mangle));var o=t.inSourceMap,u={};typeof t.inSourceMap=="string"&&(o=fs.readFileSync(t.inSourceMap,"utf8")),t.outSourceMap&&(u.source_map=s.SourceMap({file:t.outSourceMap,orig:o,root:t.sourceRoot})),t.output&&s.merge(u,t.output);var a=s.OutputStream(u);return n.print(a),{code:a+"",map:u.source_map+""}},n.describe_ast=function(){function t(n){e.print("AST_"+n.TYPE);var r=n.SELF_PROPS.filter(function(e){return!/^\$/.test(e)});r.length>0&&(e.space(),e.with_parens(function(){r.forEach(function(t,n){n&&e.space(),e.print(t)})})),n.documentation&&(e.space(),e.print_string(n.documentation)),n.SUBCLASSES.length>0&&(e.space(),e.with_block(function(){n.SUBCLASSES.forEach(function(n,r){e.indent(),t(n),e.newline()})}))}var e=s.OutputStream({beautify:!0});return t(s.AST_Node),e+""}},{"source-map":34,util:31}],45:[function(e,t,n){t.exports=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},{}],46:[function(e,t,n){function i(e,t,n){e+="",t+="",n=n||[],n=n.concat(s(e));var r=s(t).filter(function(e){return n.indexOf(e)===-1});if(r.length===0)return t;var i="",u="locals_for_with",a="result_of_with";if(/^[a-zA-Z0-9$_]+$/.test(e))u=e;else{while(r.indexOf(u)!=-1||n.indexOf(u)!=-1)u+="_";i="var "+u+" = ("+e+")"}while(r.indexOf(a)!=-1||n.indexOf(a)!=-1)a+="_";var f=r.map(function(e){return JSON.stringify(e)+" in "+u+"?"+u+"."+e+":"+"typeof "+e+'!=="undefined"?'+e+":undefined"});return t="(function ("+r.join(", ")+") {"+t+"}("+f.join(",")+"))",";"+i+";"+o(t,a)+";"}function s(e){var t=r.parse("(function () {"+e+"}())");t.figure_out_scope();var n=t.globals.map(function(e,t){return t});return n}function o(e,t){function a(e,t){if(e!==o&&(e.TYPE==="Defun"||e.TYPE==="Function"))return!0;if(e.TYPE==="Return")return t(),i=!0,l(e,"return {value: "+f(e.value)+"};"),!0}function f(t){return e.slice(t.start.pos,t.end.endpos).join("")}function l(t,n){for(var r=t.start.pos;r<t.end.endpos;r++)e[r]="";e[t.start.pos]=n}var n=e,i=!1,s=r.parse(e);e=e.split("");if(s.body.length!==1||s.body[0].TYPE!=="SimpleStatement"||s.body[0].body.TYPE!=="Call"||s.body[0].body.expression.TYPE!=="Function")throw new Error("AST does not seem to represent a self-calling function");var o=s.body[0].body.expression,u=new r.TreeWalker(a);return s.walk(u),i?"var "+t+"="+e.join("")+";if ("+t+") return "+t+".value":n}var r=e("uglify-js");t.exports=i},{"uglify-js":44}]},{},[5])(5)}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.12",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define("jade/runtime",e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.jade=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(t){var n=e[o][1][t];return i(n?n:t)},f,f.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){function r(e){return e!=null&&e!==""}function i(e){return Array.isArray(e)?e.map(i).filter(r).join(" "):e}n.merge=function s(e,t){if(arguments.length===1){var n=e[0];for(var i=1;i<e.length;i++)n=s(n,e[i]);return n}var o=e["class"],u=t["class"];if(o||u)o=o||[],u=u||[],Array.isArray(o)||(o=[o]),Array.isArray(u)||(u=[u]),e["class"]=o.concat(u).filter(r);for(var a in t)a!="class"&&(e[a]=t[a]);return e},n.joinClasses=i,n.cls=function(t,r){var s=[];for(var o=0;o<t.length;o++)r&&r[o]?s.push(n.escape(i([t[o]]))):s.push(i(t[o]));var u=i(s);return u.length?' class="'+u+'"':""},n.attr=function(t,r,i,s){return"boolean"==typeof r||null==r?r?" "+(s?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof r?" "+t+"='"+JSON.stringify(r).replace(/'/g,"&apos;")+"'":i?" "+t+'="'+n.escape(r)+'"':" "+t+'="'+r+'"'},n.attrs=function(t,r){var s=[],o=Object.keys(t);if(o.length)for(var u=0;u<o.length;++u){var a=o[u],f=t[a];"class"==a?(f=i(f))&&s.push(" "+a+'="'+f+'"'):s.push(n.attr(a,f,!1,r))}return s.join("")},n.escape=function(t){var n=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return n===""+t?t:n},n.rethrow=function o(t,n,r,i){if(t instanceof Error){if((typeof window!="undefined"||!n)&&!i)throw t.message+=" on line "+r,t;try{i=i||e("fs").readFileSync(n,"utf8")}catch(s){o(t,null,r)}var u=3,a=i.split("\n"),f=Math.max(r-u,0),l=Math.min(a.length,r+u),u=a.slice(f,l).map(function(e,t){var n=t+f+1;return(n==r?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=n,t.message=(n||"Jade")+":"+r+"\n"+u+"\n\n"+t.message,t}throw t}},{fs:2}],2:[function(e,t,n){},{}]},{},[1])(1)}),define("main",["jade/jade","text","jade/runtime"],function(jade,text){"use strict";var jadeOptionsDev={compileDebug:!0,debug:!0,pretty:!0},jadeOptionsProduction={compileDebug:!1,debug:!1,pretty:!1},buildMap={};return{load:function(name,require,onload,config){var url=require.toUrl(name);text.get(url,function(tpl){if(config.isBuild)return buildMap[name]=jade.compileClient(tpl,jadeOptionsProduction),onload();eval("var htmlFn = "+jade.compileClient(tpl,jadeOptionsDev)+";"+"onload(htmlFn)")},onload.error)},write:function(e,t,n){console.log("write");var r=buildMap[t];n.adModule(e+"!"+t,'define(["jade/runtime"], function(jade) {return '+r+"});")}}});